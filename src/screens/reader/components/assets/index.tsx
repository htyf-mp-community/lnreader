
export const jsCode = "class%20Reader%20%7B%0A%20%20constructor()%20%7B%0A%20%20%20%20this.footerWrapper%20%3D%20document.getElementById('reader-footer-wrapper')%3B%0A%20%20%20%20this.percentage%20%3D%20document.getElementById('reader-percentage')%3B%0A%20%20%20%20this.battery%20%3D%20document.getElementById('reader-battery')%3B%0A%20%20%20%20this.time%20%3D%20document.getElementById('reader-time')%3B%0A%20%20%20%20this.paddingTop%20%3D%20parseInt(%0A%20%20%20%20%20%20getComputedStyle(document.querySelector('html')).getPropertyValue(%0A%20%20%20%20%20%20%20%20'padding-top'%2C%0A%20%20%20%20%20%20)%2C%0A%20%20%20%20)%3B%0A%20%20%20%20this.chapter%20%3D%20document.querySelector('chapter')%3B%0A%20%20%20%20this.chapterHeight%20%3D%20this.chapter.scrollHeight%20%2B%20this.paddingTop%3B%0A%20%20%20%20this.layoutHeight%20%3D%20window.innerHeight%3B%0A%20%20%20%20this.pluginId%20%3D%20this.chapter.getAttribute('data-plugin-id')%3B%0A%20%20%20%20this.novelId%20%3D%20this.chapter.getAttribute('data-novel-id')%3B%0A%20%20%20%20this.chapterId%20%3D%20this.chapter.getAttribute('data-chapter-id')%3B%0A%20%20%20%20this.saveProgressInterval%20%3D%20setInterval(%0A%20%20%20%20%20%20()%20%3D%3E%0A%20%20%20%20%20%20%20%20this.post(%7B%0A%20%20%20%20%20%20%20%20%20%20type%3A%20'save'%2C%0A%20%20%20%20%20%20%20%20%20%20data%3A%20parseInt(%0A%20%20%20%20%20%20%20%20%20%20%20%20((window.scrollY%20%2B%20this.layoutHeight)%20%2F%20this.chapterHeight)%20*%20100%2C%0A%20%20%20%20%20%20%20%20%20%20)%2C%0A%20%20%20%20%20%20%20%20%7D)%2C%0A%20%20%20%20%20%20autoSaveInterval%2C%0A%20%20%20%20)%3B%0A%20%20%20%20this.time.innerText%20%3D%20new%20Date().toLocaleTimeString(undefined%2C%20%7B%0A%20%20%20%20%20%20hour%3A%20'2-digit'%2C%0A%20%20%20%20%20%20minute%3A%20'2-digit'%2C%0A%20%20%20%20%7D)%3B%0A%20%20%20%20this.timeInterval%20%3D%20setInterval(()%20%3D%3E%20%7B%0A%20%20%20%20%20%20this.time.innerText%20%3D%20new%20Date().toLocaleTimeString(undefined%2C%20%7B%0A%20%20%20%20%20%20%20%20hour%3A%20'2-digit'%2C%0A%20%20%20%20%20%20%20%20minute%3A%20'2-digit'%2C%0A%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%7D%2C%2060000)%3B%0A%20%20%20%20this.updateBatteryLevel(batteryLevel)%3B%0A%20%20%20%20this.updateGeneralSettings(initSettings)%3B%0A%20%20%7D%0A%0A%20%20refresh%20%3D%20()%20%3D%3E%20%7B%0A%20%20%20%20this.chapterHeight%20%3D%20this.chapter.scrollHeight%20%2B%20this.paddingTop%3B%0A%20%20%7D%3B%0A%20%20post%20%3D%20obj%20%3D%3E%20window.ReactNativeWebView.postMessage(JSON.stringify(obj))%3B%0A%20%20updateReaderSettings%20%3D%20settings%20%3D%3E%20%7B%0A%20%20%20%20document.documentElement.style.setProperty(%0A%20%20%20%20%20%20'--readerSettings-theme'%2C%0A%20%20%20%20%20%20settings.theme%2C%0A%20%20%20%20)%3B%0A%20%20%20%20document.documentElement.style.setProperty(%0A%20%20%20%20%20%20'--readerSettings-padding'%2C%0A%20%20%20%20%20%20settings.padding%20%2B%20'%25'%2C%0A%20%20%20%20)%3B%0A%20%20%20%20document.documentElement.style.setProperty(%0A%20%20%20%20%20%20'--readerSettings-textSize'%2C%0A%20%20%20%20%20%20settings.textSize%20%2B%20'px'%2C%0A%20%20%20%20)%3B%0A%20%20%20%20document.documentElement.style.setProperty(%0A%20%20%20%20%20%20'--readerSettings-textColor'%2C%0A%20%20%20%20%20%20settings.textColor%2C%0A%20%20%20%20)%3B%0A%20%20%20%20document.documentElement.style.setProperty(%0A%20%20%20%20%20%20'--readerSettings-textAlign'%2C%0A%20%20%20%20%20%20settings.textAlign%2C%0A%20%20%20%20)%3B%0A%20%20%20%20document.documentElement.style.setProperty(%0A%20%20%20%20%20%20'--readerSettings-lineHeight'%2C%0A%20%20%20%20%20%20settings.lineHeight%2C%0A%20%20%20%20)%3B%0A%20%20%20%20document.documentElement.style.setProperty(%0A%20%20%20%20%20%20'--readerSettings-fontFamily'%2C%0A%20%20%20%20%20%20settings.fontFamily%2C%0A%20%20%20%20)%3B%0A%20%20%20%20new%20FontFace(%0A%20%20%20%20%20%20settings.fontFamily%2C%0A%20%20%20%20%20%20'url(%22file%3A%2F%2F%2Fandroid_asset%2Ffonts%2F'%20%2B%20settings.fontFamily%20%2B%20'.ttf%22)'%2C%0A%20%20%20%20)%0A%20%20%20%20%20%20.load()%0A%20%20%20%20%20%20.then(function%20(loadedFont)%20%7B%0A%20%20%20%20%20%20%20%20document.fonts.add(loadedFont)%3B%0A%20%20%20%20%20%20%7D)%3B%0A%20%20%7D%3B%0A%20%20updateGeneralSettings%20%3D%20settings%20%3D%3E%20%7B%0A%20%20%20%20this.showScrollPercentage%20%3D%20settings.showScrollPercentage%3B%0A%20%20%20%20this.showBatteryAndTime%20%3D%20settings.showBatteryAndTime%3B%0A%20%20%20%20if%20(settings.swipeGestures)%20%7B%0A%20%20%20%20%20%20swipeHandler.enable()%3B%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20swipeHandler.disable()%3B%0A%20%20%20%20%7D%0A%20%20%20%20if%20(!this.showScrollPercentage%20%26%26%20!this.showBatteryAndTime)%20%7B%0A%20%20%20%20%20%20this.footerWrapper.classList.add('d-none')%3B%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20this.footerWrapper.classList.remove('d-none')%3B%0A%20%20%20%20%20%20if%20(this.showScrollPercentage)%20%7B%0A%20%20%20%20%20%20%20%20this.percentage.classList.remove('hidden')%3B%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20this.percentage.classList.add('hidden')%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20if%20(this.showBatteryAndTime)%20%7B%0A%20%20%20%20%20%20%20%20this.battery.classList.remove('hidden')%3B%0A%20%20%20%20%20%20%20%20this.time.classList.remove('hidden')%3B%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20this.battery.classList.add('hidden')%3B%0A%20%20%20%20%20%20%20%20this.time.classList.add('hidden')%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%7D%3B%0A%20%20updateBatteryLevel%20%3D%20level%20%3D%3E%20%7B%0A%20%20%20%20this.battery.innerText%20%3D%20Math.ceil(level%20*%20100)%20%2B%20'%25'%3B%0A%20%20%7D%3B%0A%7D%0A%0Aclass%20ToolWrapper%20%7B%0A%20%20constructor()%20%7B%0A%20%20%20%20this.%24%20%3D%20document.getElementById('ToolWrapper')%3B%0A%20%20%20%20this.%24.onclick%20%3D%20e%20%3D%3E%20%7B%0A%20%20%20%20%20%20e.stopPropagation()%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20this.tools%20%3D%20%5B%5D%3B%0A%20%20%7D%0A%20%20hide%20%3D%20()%20%3D%3E%20%7B%0A%20%20%20%20this.%24.classList.add('d-none')%3B%0A%20%20%20%20this.visible%20%3D%20false%3B%0A%20%20%7D%3B%0A%20%20show%20%3D%20()%20%3D%3E%20%7B%0A%20%20%20%20this.%24.classList.remove('d-none')%3B%0A%20%20%20%20this.visible%20%3D%20true%3B%0A%20%20%20%20for%20(const%20tool%20of%20this.tools)%20%7B%0A%20%20%20%20%20%20tool.onShow%3F.()%3B%0A%20%20%20%20%7D%0A%20%20%7D%3B%0A%7D%0A%0Aclass%20ScrollHandler%20%7B%0A%20%20constructor(reader%2C%20toolWrapper)%20%7B%0A%20%20%20%20this.reader%20%3D%20reader%3B%0A%20%20%20%20this.toolWrapper%20%3D%20toolWrapper%3B%0A%20%20%20%20this.%24%20%3D%20document.getElementById('ScrollBar')%3B%0A%20%20%20%20this.%24.innerHTML%20%3D%20%60%0A%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22scrollbar-item%20scrollbar-text%22%20id%3D%22scrollbar-percentage%22%3E%0A%20%20%20%20%20%20%20%20%20%200%0A%20%20%20%20%20%20%20%20%3C%2Fdiv%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22scrollbar-item%22%20id%3D%22scrollbar-slider%22%3E%0A%20%20%20%20%20%20%20%20%20%20%3Cdiv%20id%3D%22scrollbar-track%22%3E%0A%20%20%20%20%20%20%20%20%20%20%3C%2Fdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%3Cdiv%20id%3D%22scrollbar-progress%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20id%3D%22scrollbar-thumb-wrapper%22%3E%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20id%3D%22scrollbar-thumb%22%3E%3C%2Fdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%3C%2Fdiv%3E%0A%20%20%20%20%20%20%20%20%3C%2Fdiv%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22scrollbar-item%20scrollbar-text%22%3E%0A%20%20%20%20%20%20%20%20%20%20100%0A%20%20%20%20%20%20%20%20%3C%2Fdiv%3E%0A%20%20%20%20%20%20%60%3B%0A%20%20%20%20this.percentage%20%3D%20this.%24.querySelector('%23scrollbar-percentage')%3B%0A%20%20%20%20this.progress%20%3D%20this.%24.querySelector('%23scrollbar-progress')%3B%0A%20%20%20%20this.thumb%20%3D%20this.%24.querySelector('%23scrollbar-thumb-wrapper')%3B%0A%20%20%20%20this.slider%20%3D%20this.%24.querySelector('%23scrollbar-slider')%3B%0A%20%20%20%20this.sliderHeight%20%3D%20this.slider.clientHeight%3B%0A%20%20%20%20this.sliderOffsetY%20%3D%20this.slider.getBoundingClientRect().top%3B%0A%20%20%20%20this.lock%20%3D%20false%3B%0A%20%20%20%20window.onscroll%20%3D%20()%20%3D%3E%20!this.lock%20%26%26%20this.update()%3B%0A%20%20%20%20this.thumb.ontouchstart%20%3D%20()%20%3D%3E%20(this.lock%20%3D%20true)%3B%0A%20%20%20%20this.thumb.ontouchend%20%3D%20()%20%3D%3E%20(this.lock%20%3D%20false)%3B%0A%20%20%20%20this.thumb.ontouchmove%20%3D%20e%20%3D%3E%20%7B%0A%20%20%20%20%20%20const%20ratio%20%3D%0A%20%20%20%20%20%20%20%20(e.changedTouches%5B0%5D.clientY%20-%20this.sliderOffsetY)%20%2F%20this.sliderHeight%3B%0A%20%20%20%20%20%20this.update(ratio%20%3C%200%20%3F%200%20%3A%20ratio)%3B%0A%20%20%20%20%7D%3B%0A%20%20%7D%0A%20%20update%20%3D%20ratio%20%3D%3E%20%7B%0A%20%20%20%20if%20(ratio%20%3D%3D%3D%20undefined)%20%7B%0A%20%20%20%20%20%20ratio%20%3D%0A%20%20%20%20%20%20%20%20(window.scrollY%20%2B%20this.reader.layoutHeight)%20%2F%20this.reader.chapterHeight%3B%0A%20%20%20%20%7D%0A%20%20%20%20if%20(ratio%20%3E%201)%20%7B%0A%20%20%20%20%20%20ratio%20%3D%201%3B%0A%20%20%20%20%7D%0A%20%20%20%20const%20percentage%20%3D%20parseInt(ratio%20*%20100)%3B%0A%20%20%20%20if%20(this.toolWrapper.visible)%20%7B%0A%20%20%20%20%20%20this.progress.style.height%20%3D%20percentage%20%2B%20'%25'%3B%0A%20%20%20%20%20%20this.percentage.innerText%20%3D%20percentage%3B%0A%20%20%20%20%7D%0A%20%20%20%20if%20(this.lock)%20%7B%0A%20%20%20%20%20%20window.scrollTo(%7B%0A%20%20%20%20%20%20%20%20top%3A%20this.reader.chapterHeight%20*%20ratio%20-%20this.reader.layoutHeight%2C%0A%20%20%20%20%20%20%20%20behavior%3A%20'instant'%2C%0A%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%7D%0A%20%20%20%20if%20(this.reader.percentage)%20%7B%0A%20%20%20%20%20%20this.reader.percentage.innerText%20%3D%20percentage%20%2B%20'%25'%3B%0A%20%20%20%20%7D%0A%20%20%7D%3B%0A%20%20refresh%20%3D%20()%20%3D%3E%20%7B%0A%20%20%20%20this.sliderHeight%20%3D%20this.slider.clientHeight%3B%0A%20%20%20%20this.sliderOffsetY%20%3D%20this.slider.getBoundingClientRect().top%3B%0A%20%20%7D%3B%0A%20%20onShow%20%3D%20()%20%3D%3E%20%7B%0A%20%20%20%20this.reader.refresh()%3B%0A%20%20%20%20this.refresh()%3B%0A%20%20%20%20this.update()%3B%0A%20%20%7D%3B%0A%7D%0A%0Aclass%20SwipeHandler%20%7B%0A%20%20constructor()%20%7B%0A%20%20%20%20this.initialX%20%3D%20null%3B%0A%20%20%20%20this.initialY%20%3D%20null%3B%0A%20%20%7D%0A%0A%20%20touchStartHandler%20%3D%20e%20%3D%3E%20%7B%0A%20%20%20%20this.initialX%20%3D%20e.changedTouches%5B0%5D.screenX%3B%0A%20%20%20%20this.initialY%20%3D%20e.changedTouches%5B0%5D.screenY%3B%0A%20%20%7D%3B%0A%0A%20%20touchEndHandler%20%3D%20e%20%3D%3E%20%7B%0A%20%20%20%20let%20diffX%20%3D%20e.changedTouches%5B0%5D.screenX%20-%20this.initialX%3B%0A%20%20%20%20let%20diffY%20%3D%20e.changedTouches%5B0%5D.screenY%20-%20this.initialY%3B%0A%20%20%20%20if%20(Math.abs(diffX)%20%3E%20Math.abs(diffY)%20%26%26%20Math.abs(diffX)%20%3E%2010)%20%7B%0A%20%20%20%20%20%20e.preventDefault()%3B%0A%20%20%20%20%20%20reader.post(%7B%20type%3A%20diffX%20%3C%200%20%3F%20'next'%20%3A%20'prev'%20%7D)%3B%0A%20%20%20%20%7D%0A%20%20%7D%3B%0A%0A%20%20enable%20%3D%20()%20%3D%3E%20%7B%0A%20%20%20%20document.addEventListener('touchstart'%2C%20this.touchStartHandler)%3B%0A%20%20%20%20document.addEventListener('touchend'%2C%20this.touchEndHandler)%3B%0A%20%20%7D%3B%0A%0A%20%20disable%20%3D%20()%20%3D%3E%20%7B%0A%20%20%20%20document.removeEventListener('touchstart'%2C%20this.touchStartHandler)%3B%0A%20%20%20%20document.removeEventListener('touchend'%2C%20this.touchEndHandler)%3B%0A%20%20%7D%3B%0A%7D%0A%0Aclass%20TextToSpeech%20%7B%0A%20%20constructor(reader)%20%7B%0A%20%20%20%20this.reader%20%3D%20reader%3B%0A%20%20%20%20this.%24%20%3D%20document.getElementById('TextToSpeech')%3B%0A%20%20%20%20this.chapter%20%3D%20document.querySelector('chapter')%3B%0A%20%20%20%20(this.leaf%20%3D%20this.chapter)%2C%20(this.TTSWrapper%20%3D%20null)%3B%20%2F%2F%20swap%20these%202%20elements%0A%20%20%20%20this.TTSEle%20%3D%20null%3B%0A%20%20%20%20this.speaking%20%3D%20false%3B%0A%20%20%20%20this.icon%20%3D%20this.%24.querySelector('.tts')%3B%0A%20%20%20%20this.%24.onclick%20%3D%20()%20%3D%3E%20%7B%0A%20%20%20%20%20%20if%20(this.speaking)%20%7B%0A%20%20%20%20%20%20%20%20this.icon.classList.remove('speak')%3B%0A%20%20%20%20%20%20%20%20this.stop()%3B%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20this.icon.classList.add('speak')%3B%0A%20%20%20%20%20%20%20%20const%20selection%20%3D%20window.getSelection()%3B%0A%20%20%20%20%20%20%20%20if%20(selection.type%20%3D%3D%3D%20'Range')%20%7B%0A%20%20%20%20%20%20%20%20%20%20if%20(this.leaf%20%26%26%20this.TTSWrapper)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20this.TTSWrapper.replaceWith(this.leaf)%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20this.leaf%20%3D%20selection.anchorNode%3B%0A%20%20%20%20%20%20%20%20%20%20this.makeLeafSpeakable()%3B%0A%20%20%20%20%20%20%20%20%20%20this.speak()%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20this.next()%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%3B%0A%20%20%7D%0A%0A%20%20findLeaf()%20%7B%0A%20%20%20%20while%20(this.leaf.firstChild)%20%7B%0A%20%20%20%20%20%20this.leaf%20%3D%20this.leaf.firstChild%3B%0A%20%20%20%20%7D%0A%20%20%7D%0A%0A%20%20findNextLeaf()%20%7B%0A%20%20%20%20if%20(this.chapter.isSameNode(this.leaf))%20%7B%0A%20%20%20%20%20%20this.findLeaf()%3B%0A%20%20%20%20%7D%20else%20if%20(this.leaf.nextSibling)%20%7B%0A%20%20%20%20%20%20this.leaf%20%3D%20this.leaf.nextSibling%3B%0A%20%20%20%20%20%20this.findLeaf()%3B%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20this.leaf%20%3D%20this.leaf.parentNode%3B%0A%20%20%20%20%20%20if%20(this.chapter.isSameNode(this.leaf))%20%7B%0A%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20this.findNextLeaf()%3B%0A%20%20%20%20%7D%0A%20%20%7D%0A%0A%20%20readable()%20%7B%0A%20%20%20%20return%20(%0A%20%20%20%20%20%20this.leaf.nodeName%20%3D%3D%3D%20'%23text'%20%26%26%20%2F%5B%5E%5Cs%5Cn%2C.%3F!%3B%22%3A%E2%80%9C%E2%80%9D%5D%2F.test(this.leaf.data)%0A%20%20%20%20)%3B%0A%20%20%7D%0A%0A%20%20findNextTextNode()%20%7B%0A%20%20%20%20if%20(this.leaf%20%26%26%20this.TTSWrapper)%20%7B%0A%20%20%20%20%20%20this.TTSWrapper.replaceWith(this.leaf)%3B%0A%20%20%20%20%20%20this.TTSWrapper%20%3D%20null%3B%0A%20%20%20%20%7D%0A%20%20%20%20do%20%7B%0A%20%20%20%20%20%20this.findNextLeaf()%3B%0A%20%20%20%20%7D%20while%20(!this.readable()%20%26%26%20!this.chapter.isSameNode(this.leaf))%3B%0A%20%20%20%20if%20(this.chapter.isSameNode(this.leaf))%20%7B%0A%20%20%20%20%20%20return%3B%0A%20%20%20%20%7D%0A%20%20%20%20this.makeLeafSpeakable()%3B%0A%20%20%7D%0A%0A%20%20makeLeafSpeakable()%20%7B%0A%20%20%20%20this.TTSWrapper%20%3D%20document.createElement('tts-wrapper')%3B%0A%20%20%20%20this.TTSWrapper.innerHTML%20%3D%20this.leaf.data.replace(%0A%20%20%20%20%20%20%2F(%5B%5E%5Cn%2C.%3F!%3B%22%3A%E2%80%9C%E2%80%9D%5D%2B)%2Fg%2C%0A%20%20%20%20%20%20matched%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20if%20(matched.trim().length)%20%7B%0A%20%20%20%20%20%20%20%20%20%20return%20%60%3Ctts%3E%24%7Bmatched%7D%3C%2Ftts%3E%60%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20return%20matched%3B%0A%20%20%20%20%20%20%7D%2C%0A%20%20%20%20)%3B%0A%20%20%20%20this.TTSEle%20%3D%20this.TTSWrapper.firstElementChild%3B%0A%20%20%20%20this.leaf.replaceWith(this.TTSWrapper)%3B%0A%20%20%7D%0A%0A%20%20next%20%3D%20()%20%3D%3E%20%7B%0A%20%20%20%20if%20(this.TTSEle)%20%7B%0A%20%20%20%20%20%20this.TTSEle.classList.remove('highlight')%3B%0A%20%20%20%20%7D%0A%20%20%20%20if%20(this.speaking)%20%7B%0A%20%20%20%20%20%20if%20(this.TTSEle%20%26%26%20this.TTSEle.nextElementSibling)%20%7B%0A%20%20%20%20%20%20%20%20this.TTSEle%20%3D%20this.TTSEle.nextElementSibling%3B%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20this.findNextTextNode()%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20if%20(!this.TTSEle)%20%7B%0A%20%20%20%20%20%20%20%20this.findNextTextNode()%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%20%20this.speak()%3B%0A%20%20%7D%3B%0A%0A%20%20speak%20%3D%20()%20%3D%3E%20%7B%0A%20%20%20%20this.speaking%20%3D%20true%3B%0A%20%20%20%20if%20(this.chapter.isSameNode(this.leaf))%20%7B%0A%20%20%20%20%20%20return%3B%0A%20%20%20%20%7D%0A%20%20%20%20this.TTSEle.classList.add('highlight')%3B%0A%20%20%20%20this.reader.post(%7B%20type%3A%20'speak'%2C%20data%3A%20this.TTSEle%3F.innerText.trim()%20%7D)%3B%0A%20%20%7D%3B%0A%0A%20%20stop%20%3D%20()%20%3D%3E%20%7B%0A%20%20%20%20this.speaking%20%3D%20false%3B%0A%20%20%20%20this.reader.post(%7B%20type%3A%20'stop-speak'%20%7D)%3B%0A%20%20%7D%3B%0A%7D%0Atry%20%7B%0A%20%20var%20swipeHandler%20%3D%20new%20SwipeHandler()%3B%0A%20%20var%20toolWrapper%20%3D%20new%20ToolWrapper()%3B%0A%20%20var%20reader%20%3D%20new%20Reader()%3B%0A%20%20var%20scrollHandler%20%3D%20new%20ScrollHandler(reader%2C%20toolWrapper)%3B%0A%20%20var%20tts%20%3D%20new%20TextToSpeech(reader)%3B%0A%20%20toolWrapper.tools%20%3D%20%5BscrollHandler%2C%20tts%5D%3B%0A%7D%20catch%20(e)%20%7B%0A%20%20alert(e)%3B%0A%7D%0A"
export const cssCode = "html%20%7B%0A%20%20%20%20scroll-behavior%3A%20smooth%3B%0A%20%20%20%20overflow-x%3A%20hidden%3B%0A%20%20%20%20padding-top%3A%20var(--StatusBar-currentHeight)%3B%0A%20%20%20%20word-wrap%3A%20break-word%3B%0A%7D%0A%0A%3A%3Aselection%20%7B%0A%20%20%20%20color%3A%20var(--theme-onSecondary)%3B%0A%20%20%20%20background-color%3A%20var(--theme-secondary)%3B%0A%7D%0A%3A%3A-moz-selection%20%7B%0A%20%20%20%20color%3A%20var(--theme-onSecondary)%3B%0A%20%20%20%20background-color%3A%20var(--theme-secondary)%3B%0A%7D%0A%0Abody%20%7B%0A%20%20%20%20padding-left%3A%20var(--readerSettings-padding)%3B%0A%20%20%20%20padding-right%3A%20var(--readerSettings-padding)%3B%0A%20%20%20%20padding-bottom%3A%2040px%3B%0A%0A%20%20%20%20font-size%3A%20var(--readerSettings-textSize)%3B%0A%20%20%20%20background-color%3A%20var(--readerSettings-theme)%3B%0A%20%20%20%20color%3A%20var(--readerSettings-textColor)%3B%0A%20%20%20%20text-align%3A%20var(--readerSettings-textAlign)%3B%0A%20%20%20%20line-height%3A%20var(--readerSettings-lineHeight)%3B%0A%20%20%20%20font-family%3A%20var(--readerSettings-fontFamily)%3B%0A%7D%0A%0Achapter%20%7B%0A%20%20%20%20display%3A%20block%3B%0A%7D%0A%0Ahr%20%7B%0A%20%20%20%20margin-top%3A%2020px%3B%0A%20%20%20%20margin-bottom%3A%2020px%3B%0A%7D%0A%0Aa%20%7B%0A%20%20%20%20color%3A%20var(--theme-primary)%3B%0A%7D%0A%0Aimg%20%7B%0A%20%20%20%20display%3A%20block%3B%0A%20%20%20%20width%3A%20auto%3B%0A%20%20%20%20height%3A%20auto%3B%0A%20%20%20%20max-width%3A%20100%25%3B%0A%7D%0A%0A.nextButton%2C%0A.infoText%20%7B%0A%20%20%20%20width%3A%20100%25%3B%0A%20%20%20%20border-radius%3A%2050px%3B%0A%20%20%20%20border-width%3A%201%3B%0A%20%20%20%20color%3A%20var(--theme-onPrimary)%3B%0A%20%20%20%20background-color%3A%20var(--theme-primary)%3B%0A%20%20%20%20font-family%3A%20var(--readerSettings-fontFamily)%3B%0A%20%20%20%20font-size%3A%2016px%3B%0A%20%20%20%20border-width%3A%200%3B%0A%7D%0A%0A.nextButton%20%7B%0A%20%20%20%20min-height%3A%2040px%3B%0A%20%20%20%20text-overflow%3A%20ellipsis%3B%0A%20%20%20%20overflow%3A%20hidden%3B%0A%20%20%20%20white-space%3A%20nowrap%3B%0A%20%20%20%20padding%3A%200%2016px%3B%0A%7D%0A%0A.infoText%20%7B%0A%20%20%20%20background-color%3A%20transparent%3B%0A%20%20%20%20text-align%3A%20center%3B%0A%20%20%20%20border%3A%20none%3B%0A%20%20%20%20margin%3A%200px%3B%0A%20%20%20%20color%3A%20inherit%3B%0A%20%20%20%20padding-top%3A%2016px%3B%0A%20%20%20%20padding-bottom%3A%2016px%3B%0A%7D%0A%0A.chapterCtn%20%7B%0A%20%20%20%20min-height%3A%20var(--chapterCtn-height)%3B%0A%20%20%20%20margin-bottom%3A%20auto%3B%0A%7D%0A%0A.d-none%20%7B%0A%20%20%20%20display%3A%20none%3B%0A%7D%0A%0A.hidden%20%7B%0A%20%20%20%20visibility%3A%20hidden%3B%0A%20%20%20%20width%3A%200%3B%0A%7D%0A%0A%23ToolWrapper%20%7B%0A%20%20%20%20position%3A%20fixed%3B%0A%20%20%20%20top%3A%2025vh%3B%0A%20%20%20%20right%3A%205vw%3B%0A%7D%0A%0A%23ScrollBar%20%7B%0A%20%20%20%20width%3A%202.4rem%3B%0A%20%20%20%20height%3A%2045vh%3B%0A%20%20%20%20border-radius%3A%201.2rem%3B%0A%20%20%20%20background-color%3A%20var(--theme-surface-0-9)%3B%0A%20%20%20%20touch-action%3A%20none%3B%0A%20%20%20%20font-size%3A%2016px%3B%0A%7D%0A%0A.scrollbar-item%20%7B%0A%20%20%20%20display%3A%20flex%3B%0A%20%20%20%20justify-content%3A%20center%3B%0A%20%20%20%20align-items%3A%20center%3B%0A%20%20%20%20color%3A%20var(--theme-onSurface)%3B%0A%7D%0A%0A.scrollbar-item.scrollbar-text%20%7B%0A%20%20%20%20height%3A%2012.5%25%3B%0A%7D%0A%0A.scrollbar-item%23scrollbar-slider%20%7B%0A%20%20%20%20height%3A%2075%25%3B%0A%20%20%20%20align-items%3A%20unset%3B%0A%7D%0A%0A%23scrollbar-track%20%7B%0A%20%20%20%20width%3A%200.1rem%3B%0A%20%20%20%20height%3A%20100%25%3B%0A%20%20%20%20background-color%3A%20var(--theme-outline)%3B%0A%7D%0A%0A%23scrollbar-progress%20%7B%0A%20%20%20%20width%3A%200.1rem%3B%0A%20%20%20%20height%3A%200%3B%0A%20%20%20%20background-color%3A%20var(--theme-primary)%3B%0A%20%20%20%20transform%3A%20translateX(-0.1rem)%3B%0A%7D%0A%0A%23scrollbar-thumb-wrapper%20%7B%0A%20%20%20%20position%3A%20relative%3B%0A%20%20%20%20top%3A%20100%25%3B%0A%20%20%20%20height%3A%202rem%3B%0A%20%20%20%20width%3A%202rem%3B%0A%20%20%20%20display%3A%20flex%3B%0A%20%20%20%20align-items%3A%20center%3B%0A%20%20%20%20justify-content%3A%20center%3B%0A%20%20%20%20transform%3A%20translate(-0.95rem%2C%20-1rem)%3B%0A%7D%0A%0A%23scrollbar-thumb%20%7B%0A%20%20%20%20top%3A%20100%25%3B%0A%20%20%20%20height%3A%201rem%3B%0A%20%20%20%20width%3A%201rem%3B%0A%20%20%20%20border-radius%3A%20100%25%3B%0A%20%20%20%20background-color%3A%20var(--theme-primary)%3B%0A%7D%0A%0A%23reader-footer-wrapper%20%7B%0A%20%20%20%20position%3A%20fixed%3B%0A%20%20%20%20bottom%3A%200%3B%0A%20%20%20%20left%3A%200%3B%0A%20%20%20%20width%3A%20100%25%3B%0A%7D%0A%0A%23reader-footer%20%7B%0A%20%20%20%20display%3A%20flex%3B%0A%20%20%20%20flex%3A%201%3B%0A%20%20%20%20justify-content%3A%20space-between%3B%0A%20%20%20%20min-height%3A%202rem%3B%0A%20%20%20%20padding%3A%200.5rem%202rem%200%202rem%3B%0A%20%20%20%20background-color%3A%20var(--readerSettings-theme)%3B%0A%20%20%20%20color%3A%20var(--readerSettings-textColor)%3B%0A%20%20%20%20font-size%3A%201rem%3B%0A%20%20%20%20text-align%3A%20center%3B%0A%7D%0A%0A.reader-footer-item%7B%0A%20%20%20%20display%3A%20flex%3B%0A%7D%0A%0A.tts%20%7B%0A%20%20%20%20position%3A%20relative%3B%0A%20%20%20%20bottom%3A%201rem%3B%0A%7D%0A%0A.tts%20%3E%20svg%20%7B%0A%20%20%20%20fill%3A%20var(--theme-secondary)%3B%0A%20%20%20%20-webkit-transition%3A%200.3s%3B%0A%20%20%20%20transition%3A%200.3s%3B%0A%7D%0A%0A.tts%3A%3Abefore%7B%0A%20%20%20%20position%3A%20absolute%3B%0A%20%20%20%20content%3A%20''%3B%0A%20%20%20%20height%3A%2040px%3B%0A%20%20%20%20width%3A%202px%3B%0A%20%20%20%20background-color%3A%20var(--theme-secondary)%3B%3B%0A%20%20%20%20transform-origin%3A%20top%20right%3B%0A%20%20%20%20transform%3A%20translate(4px%2C%204px)%20rotate(-45deg)%3B%0A%20%20%20%20-webkit-transition%3A%200.3s%3B%0A%20%20%20%20transition%3A%200.3s%3B%0A%7D%0A%0A.tts.speak%3A%3Abefore%7B%0A%20%20%20%20height%3A%200%3B%0A%20%20%20%20background-color%3A%20var(--theme-primary)%3B%0A%7D%0A%0A.tts.speak%20%3E%20svg%7B%0A%20%20%20%20fill%3A%20var(--theme-primary)%3B%0A%7D%0A%0Atts.highlight%20%7B%0A%20%20%20%20color%3A%20var(--theme-onSecondary)%3B%0A%20%20%20%20background-color%3A%20var(--theme-secondary)%3B%0A%7D"
