
export const jsCode = "%2F**%0A%20*%20https%3A%2F%2Ffonts.google.com%2Ficons%0A%20*%20Filled%0A%20*%20other%20settings%20are%20default%0A%20*%2F%0Aconst%20copyIcon%20%3D%0A%20%20'%3Csvg%20height%3D%2224%22%20viewBox%3D%220%20-960%20960%20960%22%20width%3D%2224%22%3E%3Cpath%20d%3D%22M360-240q-33%200-56.5-23.5T280-320v-480q0-33%2023.5-56.5T360-880h360q33%200%2056.5%2023.5T800-800v480q0%2033-23.5%2056.5T720-240H360ZM200-80q-33%200-56.5-23.5T120-160v-560h80v560h440v80H200Z%22%2F%3E%3C%2Fsvg%3E'%3B%0Aconst%20volumeIcon%20%3D%0A%20%20'%3Csvg%20height%3D%2224%22%20viewBox%3D%220%20-960%20960%20960%22%20width%3D%2224%22%3E%3Cpath%20d%3D%22M560-131v-82q90-26%20145-100t55-168q0-94-55-168T560-749v-82q124%2028%20202%20125.5T840-481q0%20127-78%20224.5T560-131ZM120-360v-240h160l200-200v640L280-360H120Zm440%2040v-322q47%2022%2073.5%2066t26.5%2096q0%2051-26.5%2094.5T560-320Z%22%2F%3E%3C%2Fsvg%3E'%3B%0Aconst%20selectAllIcon%20%3D%0A%20%20'%3Csvg%20height%3D%2224%22%20viewBox%3D%220%20-960%20960%20960%22%20width%3D%2224%22%3E%3Cpath%20d%3D%22M280-280v-400h400v400H280Zm80-80h240v-240H360v240ZM200-200v80q-33%200-56.5-23.5T120-200h80Zm-80-80v-80h80v80h-80Zm0-160v-80h80v80h-80Zm0-160v-80h80v80h-80Zm80-160h-80q0-33%2023.5-56.5T200-840v80Zm80%20640v-80h80v80h-80Zm0-640v-80h80v80h-80Zm160%20640v-80h80v80h-80Zm0-640v-80h80v80h-80Zm160%20640v-80h80v80h-80Zm0-640v-80h80v80h-80Zm160%20640v-80h80q0%2033-23.5%2056.5T760-120Zm0-160v-80h80v80h-80Zm0-160v-80h80v80h-80Zm0-160v-80h80v80h-80Zm0-160v-80q33%200%2056.5%2023.5T840-760h-80Z%22%2F%3E%3C%2Fsvg%3E'%3B%0Aconst%20translateIcon%20%3D%0A%20%20'%3Csvg%20height%3D%2224%22%20viewBox%3D%220%20-960%20960%20960%22%20width%3D%2224%22%3E%3Cpath%20d%3D%22m476-80%20182-480h84L924-80h-84l-43-122H603L560-80h-84ZM160-200l-56-56%20202-202q-35-35-63.5-80T190-640h84q20%2039%2040%2068t48%2058q33-33%2068.5-92.5T484-720H40v-80h280v-80h80v80h280v80H564q-21%2072-63%20148t-83%20116l96%2098-30%2082-122-125-202%20201Zm468-72h144l-72-204-72%20204Z%22%2F%3E%3C%2Fsvg%3E'%3B%0Aconst%20resumeIcon%20%3D%0A%20%20'%3Csvg%20height%3D%2224%22%20viewBox%3D%220%20-960%20960%20960%22%20width%3D%2224%22%3E%3Cpath%20d%3D%22M240-240v-480h80v480h-80Zm160%200%20400-240-400-240v480Z%22%2F%3E%3C%2Fsvg%3E'%3B%0Aconst%20pauseIcon%20%3D%0A%20%20'%3Csvg%20height%3D%2224%22%20viewBox%3D%220%20-960%20960%20960%22%20width%3D%2224%22%3E%3Cpath%20d%3D%22M560-200v-560h160v560H560Zm-320%200v-560h160v560H240Z%22%2F%3E%3C%2Fsvg%3E'%3B%0Aconst%20stopIcon%20%3D%0A%20%20'%3Csvg%20height%3D%2224%22%20viewBox%3D%220%20-960%20960%20960%22%20width%3D%2224%22%3E%3Cpath%20d%3D%22M320-320h320v-320H320v320ZM480-80q-83%200-156-31.5T197-197q-54-54-85.5-127T80-480q0-83%2031.5-156T197-763q54-54%20127-85.5T480-880q83%200%20156%2031.5T763-763q54%2054%2085.5%20127T880-480q0%2083-31.5%20156T763-197q-54%2054-127%2085.5T480-80Z%22%2F%3E%3C%2Fsvg%3E'%3B%0Aconst%20selectVolumeIcon%20%3D%0A%20%20'%3Csvg%20height%3D%2224%22%20viewBox%3D%220%20-960%20960%20960%22%20width%3D%2224%22%3E%3Cpath%20d%3D%22M560-131v-82q90-26%20145-100t55-168q0-94-55-168T560-749v-82q124%2028%20202%20125.5T840-481q0%20127-78%20224.5T560-131Zm-80-29L280-360H120v-240h160l200-200v640Zm80-160v-322q47%2022%2073.5%2066t26.5%2096q0%2051-26.5%2094.5T560-320ZM40-680v-240h240v80H120v160H40ZM680-40v-80h160v-160h80v240H680Z%22%2F%3E%3C%2Fsvg%3E'%3B%0A%2F**%0A%20*%20%40type%20%7Bimport(%22.%2Ftype%22).Reader%7D%0A%20*%2F%0Aclass%20Reader%20%7B%0A%20%20constructor()%20%7B%0A%20%20%20%20this.selection%20%3D%20window.getSelection()%3B%0A%20%20%20%20this.viewport%20%3D%20document.querySelector('meta%5Bname%3Dviewport%5D')%3B%0A%20%20%20%20this.footerWrapper%20%3D%20document.getElementById('reader-footer-wrapper')%3B%0A%20%20%20%20this.percentage%20%3D%20document.getElementById('reader-percentage')%3B%0A%20%20%20%20this.battery%20%3D%20document.getElementById('reader-battery')%3B%0A%20%20%20%20this.time%20%3D%20document.getElementById('reader-time')%3B%0A%20%20%20%20this.paddingTop%20%3D%20parseInt(%0A%20%20%20%20%20%20getComputedStyle(document.querySelector('html')).getPropertyValue(%0A%20%20%20%20%20%20%20%20'padding-top'%2C%0A%20%20%20%20%20%20)%2C%0A%20%20%20%20)%3B%0A%20%20%20%20this.chapter%20%3D%20document.querySelector('chapter')%3B%0A%20%20%20%20this.chapterHeight%20%3D%20this.chapter.scrollHeight%20%2B%20this.paddingTop%3B%0A%20%20%20%20this.layoutHeight%20%3D%20window.innerHeight%3B%0A%20%20%20%20this.pluginId%20%3D%20this.chapter.getAttribute('data-plugin-id')%3B%0A%20%20%20%20this.novelId%20%3D%20this.chapter.getAttribute('data-novel-id')%3B%0A%20%20%20%20this.chapterId%20%3D%20this.chapter.getAttribute('data-chapter-id')%3B%0A%20%20%20%20this.saveProgressInterval%20%3D%20setInterval(%0A%20%20%20%20%20%20()%20%3D%3E%0A%20%20%20%20%20%20%20%20this.post(%7B%0A%20%20%20%20%20%20%20%20%20%20type%3A%20'save'%2C%0A%20%20%20%20%20%20%20%20%20%20data%3A%20parseInt(%0A%20%20%20%20%20%20%20%20%20%20%20%20((window.scrollY%20%2B%20this.layoutHeight)%20%2F%20this.chapterHeight)%20*%20100%2C%0A%20%20%20%20%20%20%20%20%20%20)%2C%0A%20%20%20%20%20%20%20%20%7D)%2C%0A%20%20%20%20%20%20autoSaveInterval%2C%0A%20%20%20%20)%3B%0A%20%20%20%20this.time.innerText%20%3D%20new%20Date().toLocaleTimeString(undefined%2C%20%7B%0A%20%20%20%20%20%20hour%3A%20'2-digit'%2C%0A%20%20%20%20%20%20minute%3A%20'2-digit'%2C%0A%20%20%20%20%7D)%3B%0A%20%20%20%20this.timeInterval%20%3D%20setInterval(()%20%3D%3E%20%7B%0A%20%20%20%20%20%20this.time.innerText%20%3D%20new%20Date().toLocaleTimeString(undefined%2C%20%7B%0A%20%20%20%20%20%20%20%20hour%3A%20'2-digit'%2C%0A%20%20%20%20%20%20%20%20minute%3A%20'2-digit'%2C%0A%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%7D%2C%2060000)%3B%0A%20%20%20%20this.updateBatteryLevel(batteryLevel)%3B%0A%20%20%20%20this.updateGeneralSettings(initSettings)%3B%0A%20%20%7D%0A%0A%20%20refresh%20%3D%20()%20%3D%3E%20%7B%0A%20%20%20%20this.chapterHeight%20%3D%20this.chapter.scrollHeight%20%2B%20this.paddingTop%3B%0A%20%20%7D%3B%0A%20%20post%20%3D%20obj%20%3D%3E%20window.ReactNativeWebView.postMessage(JSON.stringify(obj))%3B%0A%20%20updateReaderSettings%20%3D%20settings%20%3D%3E%20%7B%0A%20%20%20%20document.documentElement.style.setProperty(%0A%20%20%20%20%20%20'--readerSettings-theme'%2C%0A%20%20%20%20%20%20settings.theme%2C%0A%20%20%20%20)%3B%0A%20%20%20%20document.documentElement.style.setProperty(%0A%20%20%20%20%20%20'--readerSettings-padding'%2C%0A%20%20%20%20%20%20settings.padding%20%2B%20'%25'%2C%0A%20%20%20%20)%3B%0A%20%20%20%20document.documentElement.style.setProperty(%0A%20%20%20%20%20%20'--readerSettings-textSize'%2C%0A%20%20%20%20%20%20settings.textSize%20%2B%20'px'%2C%0A%20%20%20%20)%3B%0A%20%20%20%20document.documentElement.style.setProperty(%0A%20%20%20%20%20%20'--readerSettings-textColor'%2C%0A%20%20%20%20%20%20settings.textColor%2C%0A%20%20%20%20)%3B%0A%20%20%20%20document.documentElement.style.setProperty(%0A%20%20%20%20%20%20'--readerSettings-textAlign'%2C%0A%20%20%20%20%20%20settings.textAlign%2C%0A%20%20%20%20)%3B%0A%20%20%20%20document.documentElement.style.setProperty(%0A%20%20%20%20%20%20'--readerSettings-lineHeight'%2C%0A%20%20%20%20%20%20settings.lineHeight%2C%0A%20%20%20%20)%3B%0A%20%20%20%20document.documentElement.style.setProperty(%0A%20%20%20%20%20%20'--readerSettings-fontFamily'%2C%0A%20%20%20%20%20%20settings.fontFamily%2C%0A%20%20%20%20)%3B%0A%20%20%20%20new%20FontFace(%0A%20%20%20%20%20%20settings.fontFamily%2C%0A%20%20%20%20%20%20'url(%22file%3A%2F%2F%2Fandroid_asset%2Ffonts%2F'%20%2B%20settings.fontFamily%20%2B%20'.ttf%22)'%2C%0A%20%20%20%20)%0A%20%20%20%20%20%20.load()%0A%20%20%20%20%20%20.then(function%20(loadedFont)%20%7B%0A%20%20%20%20%20%20%20%20document.fonts.add(loadedFont)%3B%0A%20%20%20%20%20%20%7D)%3B%0A%20%20%7D%3B%0A%20%20updateGeneralSettings%20%3D%20settings%20%3D%3E%20%7B%0A%20%20%20%20this.showScrollPercentage%20%3D%20settings.showScrollPercentage%3B%0A%20%20%20%20this.showBatteryAndTime%20%3D%20settings.showBatteryAndTime%3B%0A%20%20%20%20if%20(settings.swipeGestures)%20%7B%0A%20%20%20%20%20%20swipeHandler.enable()%3B%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20swipeHandler.disable()%3B%0A%20%20%20%20%7D%0A%20%20%20%20if%20(!this.showScrollPercentage%20%26%26%20!this.showBatteryAndTime)%20%7B%0A%20%20%20%20%20%20this.footerWrapper.classList.add('d-none')%3B%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20this.footerWrapper.classList.remove('d-none')%3B%0A%20%20%20%20%20%20if%20(this.showScrollPercentage)%20%7B%0A%20%20%20%20%20%20%20%20this.percentage.classList.remove('hidden')%3B%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20this.percentage.classList.add('hidden')%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20if%20(this.showBatteryAndTime)%20%7B%0A%20%20%20%20%20%20%20%20this.battery.classList.remove('hidden')%3B%0A%20%20%20%20%20%20%20%20this.time.classList.remove('hidden')%3B%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20this.battery.classList.add('hidden')%3B%0A%20%20%20%20%20%20%20%20this.time.classList.add('hidden')%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%7D%3B%0A%20%20updateBatteryLevel%20%3D%20level%20%3D%3E%20%7B%0A%20%20%20%20this.battery.innerText%20%3D%20Math.ceil(level%20*%20100)%20%2B%20'%25'%3B%0A%20%20%7D%3B%0A%7D%0A%0Aclass%20ToolWrapper%20%7B%0A%20%20constructor()%20%7B%0A%20%20%20%20this.%24%20%3D%20document.getElementById('ToolWrapper')%3B%0A%20%20%20%20this.%24.onclick%20%3D%20e%20%3D%3E%20%7B%0A%20%20%20%20%20%20e.stopPropagation()%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20this.tools%20%3D%20%5B%5D%3B%0A%20%20%7D%0A%20%20hide%20%3D%20()%20%3D%3E%20%7B%0A%20%20%20%20this.%24.classList.add('hidden')%3B%0A%20%20%20%20this.visible%20%3D%20false%3B%0A%20%20%7D%3B%0A%20%20show%20%3D%20()%20%3D%3E%20%7B%0A%20%20%20%20this.%24.classList.remove('hidden')%3B%0A%20%20%20%20this.visible%20%3D%20true%3B%0A%20%20%20%20for%20(const%20tool%20of%20this.tools)%20%7B%0A%20%20%20%20%20%20tool.onShow%3F.()%3B%0A%20%20%20%20%7D%0A%20%20%7D%3B%0A%7D%0A%0Aclass%20ScrollHandler%20%7B%0A%20%20constructor(reader%2C%20toolWrapper)%20%7B%0A%20%20%20%20this.reader%20%3D%20reader%3B%0A%20%20%20%20this.toolWrapper%20%3D%20toolWrapper%3B%0A%20%20%20%20this.%24%20%3D%20document.getElementById('ScrollBar')%3B%0A%20%20%20%20this.%24.innerHTML%20%3D%20%60%0A%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22scrollbar-item%20scrollbar-text%22%20id%3D%22scrollbar-percentage%22%3E%0A%20%20%20%20%20%20%20%20%20%200%0A%20%20%20%20%20%20%20%20%3C%2Fdiv%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22scrollbar-item%22%20id%3D%22scrollbar-slider%22%3E%0A%20%20%20%20%20%20%20%20%20%20%3Cdiv%20id%3D%22scrollbar-track%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20id%3D%22scrollbar-progress%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20id%3D%22scrollbar-thumb-wrapper%22%3E%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20id%3D%22scrollbar-thumb%22%3E%3C%2Fdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%3C%2Fdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%3C%2Fdiv%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22scrollbar-item%20scrollbar-text%22%3E%0A%20%20%20%20%20%20%20%20%20%20100%0A%20%20%20%20%20%20%20%20%3C%2Fdiv%3E%0A%20%20%20%20%20%20%60%3B%0A%20%20%20%20this.percentage%20%3D%20this.%24.querySelector('%23scrollbar-percentage')%3B%0A%20%20%20%20this.progress%20%3D%20this.%24.querySelector('%23scrollbar-progress')%3B%0A%20%20%20%20this.thumb%20%3D%20this.%24.querySelector('%23scrollbar-thumb-wrapper')%3B%0A%20%20%20%20this.slider%20%3D%20this.%24.querySelector('%23scrollbar-slider')%3B%0A%20%20%20%20this.sliderHeight%20%3D%20this.slider.clientHeight%3B%0A%20%20%20%20this.sliderOffsetY%20%3D%20this.slider.getBoundingClientRect().top%3B%0A%20%20%20%20this.lock%20%3D%20false%3B%0A%20%20%20%20window.onscroll%20%3D%20()%20%3D%3E%20!this.lock%20%26%26%20this.update()%3B%0A%20%20%20%20this.thumb.ontouchstart%20%3D%20()%20%3D%3E%20(this.lock%20%3D%20true)%3B%0A%20%20%20%20this.thumb.ontouchend%20%3D%20()%20%3D%3E%20(this.lock%20%3D%20false)%3B%0A%20%20%20%20this.thumb.ontouchmove%20%3D%20e%20%3D%3E%20%7B%0A%20%20%20%20%20%20const%20ratio%20%3D%0A%20%20%20%20%20%20%20%20(e.changedTouches%5B0%5D.clientY%20-%20this.sliderOffsetY)%20%2F%20this.sliderHeight%3B%0A%20%20%20%20%20%20this.update(ratio%20%3C%200%20%3F%200%20%3A%20ratio)%3B%0A%20%20%20%20%7D%3B%0A%20%20%7D%0A%20%20update%20%3D%20ratio%20%3D%3E%20%7B%0A%20%20%20%20if%20(ratio%20%3D%3D%3D%20undefined)%20%7B%0A%20%20%20%20%20%20ratio%20%3D%0A%20%20%20%20%20%20%20%20(window.scrollY%20%2B%20this.reader.layoutHeight)%20%2F%20this.reader.chapterHeight%3B%0A%20%20%20%20%7D%0A%20%20%20%20if%20(ratio%20%3E%201)%20%7B%0A%20%20%20%20%20%20ratio%20%3D%201%3B%0A%20%20%20%20%7D%0A%20%20%20%20const%20percentage%20%3D%20parseInt(ratio%20*%20100)%3B%0A%20%20%20%20if%20(this.toolWrapper.visible)%20%7B%0A%20%20%20%20%20%20this.progress.style.height%20%3D%20percentage%20%2B%20'%25'%3B%0A%20%20%20%20%20%20this.percentage.innerText%20%3D%20percentage%3B%0A%20%20%20%20%7D%0A%20%20%20%20if%20(this.lock)%20%7B%0A%20%20%20%20%20%20window.scrollTo(%7B%0A%20%20%20%20%20%20%20%20top%3A%20this.reader.chapterHeight%20*%20ratio%20-%20this.reader.layoutHeight%2C%0A%20%20%20%20%20%20%20%20behavior%3A%20'instant'%2C%0A%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%7D%0A%20%20%20%20if%20(this.reader.percentage)%20%7B%0A%20%20%20%20%20%20this.reader.percentage.innerText%20%3D%20percentage%20%2B%20'%25'%3B%0A%20%20%20%20%7D%0A%20%20%7D%3B%0A%20%20refresh%20%3D%20()%20%3D%3E%20%7B%0A%20%20%20%20this.sliderHeight%20%3D%20this.slider.clientHeight%3B%0A%20%20%20%20this.sliderOffsetY%20%3D%20this.slider.getBoundingClientRect().top%3B%0A%20%20%7D%3B%0A%20%20onShow%20%3D%20()%20%3D%3E%20%7B%0A%20%20%20%20this.reader.refresh()%3B%0A%20%20%20%20this.refresh()%3B%0A%20%20%20%20this.update()%3B%0A%20%20%7D%3B%0A%7D%0A%0Aclass%20SwipeHandler%20%7B%0A%20%20constructor()%20%7B%0A%20%20%20%20this.initialX%20%3D%20null%3B%0A%20%20%20%20this.initialY%20%3D%20null%3B%0A%20%20%7D%0A%0A%20%20touchStartHandler%20%3D%20e%20%3D%3E%20%7B%0A%20%20%20%20this.initialX%20%3D%20e.changedTouches%5B0%5D.screenX%3B%0A%20%20%20%20this.initialY%20%3D%20e.changedTouches%5B0%5D.screenY%3B%0A%20%20%7D%3B%0A%0A%20%20touchEndHandler%20%3D%20e%20%3D%3E%20%7B%0A%20%20%20%20let%20diffX%20%3D%20e.changedTouches%5B0%5D.screenX%20-%20this.initialX%3B%0A%20%20%20%20let%20diffY%20%3D%20e.changedTouches%5B0%5D.screenY%20-%20this.initialY%3B%0A%20%20%20%20if%20(Math.abs(diffX)%20%3E%20Math.abs(diffY)%20%26%26%20Math.abs(diffX)%20%3E%2010)%20%7B%0A%20%20%20%20%20%20e.preventDefault()%3B%0A%20%20%20%20%20%20reader.post(%7B%20type%3A%20diffX%20%3C%200%20%3F%20'next'%20%3A%20'prev'%20%7D)%3B%0A%20%20%20%20%7D%0A%20%20%7D%3B%0A%0A%20%20enable%20%3D%20()%20%3D%3E%20%7B%0A%20%20%20%20document.addEventListener('touchstart'%2C%20this.touchStartHandler)%3B%0A%20%20%20%20document.addEventListener('touchend'%2C%20this.touchEndHandler)%3B%0A%20%20%7D%3B%0A%0A%20%20disable%20%3D%20()%20%3D%3E%20%7B%0A%20%20%20%20document.removeEventListener('touchstart'%2C%20this.touchStartHandler)%3B%0A%20%20%20%20document.removeEventListener('touchend'%2C%20this.touchEndHandler)%3B%0A%20%20%7D%3B%0A%7D%0A%0A%2F**%0A%20*%20%40type%20%7Bimport('.%2Ftype').TextToSpeech%7D%0A%20*%2F%0Aclass%20TextToSpeech%20%7B%0A%20%20constructor(reader)%20%7B%0A%20%20%20%20this.reader%20%3D%20reader%3B%0A%20%20%20%20(this.leaf%20%3D%20this.reader.chapter)%2C%20(this.TTSWrapper%20%3D%20null)%3B%20%2F%2F%20swap%20these%202%20elements%0A%20%20%20%20this.TTSEle%20%3D%20null%3B%0A%20%20%20%20this.reading%20%3D%20false%3B%0A%20%20%20%20this.%24%20%3D%20document.getElementById('TTS-Controller')%3B%0A%20%20%20%20this.%24.classList.add('d-none')%3B%0A%20%20%20%20this.%24.onclick%20%3D%20()%20%3D%3E%20%7B%0A%20%20%20%20%20%20if%20(this.reading)%20%7B%0A%20%20%20%20%20%20%20%20this.pause()%3B%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20this.resume()%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%3B%0A%20%20%7D%0A%0A%20%20start%20%3D%20()%20%3D%3E%20%7B%0A%20%20%20%20this.%24.innerHTML%20%3D%20%60%3Cbutton%3E%24%7BpauseIcon%7D%3C%2Fbutton%3E%60%3B%0A%20%20%20%20this.%24.classList.remove('d-none')%3B%0A%20%20%20%20this.stop()%3B%0A%20%20%20%20this.next()%3B%0A%20%20%7D%3B%0A%0A%20%20startHere%20%3D%20()%20%3D%3E%20%7B%0A%20%20%20%20this.%24.innerHTML%20%3D%20%60%3Cbutton%3E%24%7BpauseIcon%7D%3C%2Fbutton%3E%60%3B%0A%20%20%20%20this.%24.classList.remove('d-none')%3B%0A%20%20%20%20this.stop()%3B%0A%20%20%20%20if%20(this.reader.selection.type%20%3D%3D%3D%20'Range')%20%7B%0A%20%20%20%20%20%20if%20(this.leaf%20%26%26%20this.TTSWrapper)%20%7B%0A%20%20%20%20%20%20%20%20this.TTSWrapper.replaceWith(this.leaf)%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20this.leaf%20%3D%20this.reader.selection.anchorNode%3B%0A%20%20%20%20%20%20this.makeLeafSpeakable()%3B%0A%20%20%20%20%20%20this.speak()%3B%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20this.next()%3B%0A%20%20%20%20%7D%0A%20%20%7D%3B%0A%0A%20%20resume%20%3D%20()%20%3D%3E%20%7B%0A%20%20%20%20this.%24.innerHTML%20%3D%20%60%3Cbutton%3E%24%7BpauseIcon%7D%3C%2Fbutton%3E%60%3B%0A%20%20%20%20this.next()%3B%0A%20%20%7D%3B%0A%0A%20%20findLeaf()%20%7B%0A%20%20%20%20while%20(this.leaf.firstChild)%20%7B%0A%20%20%20%20%20%20this.leaf%20%3D%20this.leaf.firstChild%3B%0A%20%20%20%20%7D%0A%20%20%7D%0A%0A%20%20findNextLeaf()%20%7B%0A%20%20%20%20if%20(this.reader.chapter.isSameNode(this.leaf))%20%7B%0A%20%20%20%20%20%20this.findLeaf()%3B%0A%20%20%20%20%7D%20else%20if%20(this.leaf.nextSibling)%20%7B%0A%20%20%20%20%20%20this.leaf%20%3D%20this.leaf.nextSibling%3B%0A%20%20%20%20%20%20this.findLeaf()%3B%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20this.leaf%20%3D%20this.leaf.parentNode%3B%0A%20%20%20%20%20%20if%20(this.reader.chapter.isSameNode(this.leaf))%20%7B%0A%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20this.findNextLeaf()%3B%0A%20%20%20%20%7D%0A%20%20%7D%0A%0A%20%20readable()%20%7B%0A%20%20%20%20return%20(%0A%20%20%20%20%20%20this.leaf.nodeName%20%3D%3D%3D%20'%23text'%20%26%26%20%2F%5B%5E%5Cs%5Cn%2C.%3F!%3B%22%3A%E2%80%9C%E2%80%9D%5D%2F.test(this.leaf.data)%0A%20%20%20%20)%3B%0A%20%20%7D%0A%0A%20%20findNextTextNode()%20%7B%0A%20%20%20%20if%20(this.leaf%20%26%26%20this.TTSWrapper)%20%7B%0A%20%20%20%20%20%20this.TTSWrapper.replaceWith(this.leaf)%3B%0A%20%20%20%20%20%20this.TTSWrapper%20%3D%20null%3B%0A%20%20%20%20%7D%0A%20%20%20%20do%20%7B%0A%20%20%20%20%20%20this.findNextLeaf()%3B%0A%20%20%20%20%7D%20while%20(!this.readable()%20%26%26%20!this.reader.chapter.isSameNode(this.leaf))%3B%0A%20%20%20%20if%20(this.reader.chapter.isSameNode(this.leaf))%20%7B%0A%20%20%20%20%20%20return%3B%0A%20%20%20%20%7D%0A%20%20%20%20this.makeLeafSpeakable()%3B%0A%20%20%7D%0A%0A%20%20makeLeafSpeakable()%20%7B%0A%20%20%20%20this.TTSWrapper%20%3D%20document.createElement('tts-wrapper')%3B%0A%20%20%20%20this.TTSWrapper.innerHTML%20%3D%20this.leaf.data.replace(%0A%20%20%20%20%20%20%2F(%5B%5E%5Cn%2C.%3F!%3B%22%3A%E2%80%9C%E2%80%9D%5D%2B)%2Fg%2C%0A%20%20%20%20%20%20matched%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20if%20(matched.trim().length)%20%7B%0A%20%20%20%20%20%20%20%20%20%20return%20%60%3Ctts%3E%24%7Bmatched%7D%3C%2Ftts%3E%60%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20return%20matched%3B%0A%20%20%20%20%20%20%7D%2C%0A%20%20%20%20)%3B%0A%20%20%20%20this.TTSEle%20%3D%20this.TTSWrapper.firstElementChild%3B%0A%20%20%20%20this.leaf.replaceWith(this.TTSWrapper)%3B%0A%20%20%7D%0A%0A%20%20next%20%3D%20()%20%3D%3E%20%7B%0A%20%20%20%20try%20%7B%0A%20%20%20%20%20%20if%20(this.TTSEle)%20%7B%0A%20%20%20%20%20%20%20%20this.TTSEle.classList.remove('highlight')%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20if%20(this.reading)%20%7B%0A%20%20%20%20%20%20%20%20if%20(this.TTSEle%20%26%26%20this.TTSEle.nextElementSibling)%20%7B%0A%20%20%20%20%20%20%20%20%20%20this.TTSEle%20%3D%20this.TTSEle.nextElementSibling%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20this.findNextTextNode()%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20if%20(!this.TTSEle)%20%7B%0A%20%20%20%20%20%20%20%20%20%20this.findNextTextNode()%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20this.speak()%3B%0A%20%20%20%20%7D%20catch%20(e)%20%7B%0A%20%20%20%20%20%20alert(e)%3B%0A%20%20%20%20%7D%0A%20%20%7D%3B%0A%0A%20%20stop%20%3D%20()%20%3D%3E%20%7B%0A%20%20%20%20this.%24.classList.add('d-none')%3B%0A%20%20%20%20this.reading%20%3D%20false%3B%0A%20%20%20%20if%20(this.leaf%20%26%26%20this.TTSWrapper)%20%7B%0A%20%20%20%20%20%20this.TTSWrapper.replaceWith(this.leaf)%3B%0A%20%20%20%20%20%20this.TTSWrapper%20%3D%20null%3B%0A%20%20%20%20%20%20this.TTSEle%20%3D%20null%3B%0A%20%20%20%20%20%20this.leaf%20%3D%20this.reader.chapter%3B%0A%20%20%20%20%7D%0A%20%20%20%20this.reader.post(%7B%20type%3A%20'stop-speak'%20%7D)%3B%0A%20%20%7D%3B%0A%0A%20%20pause%20%3D%20()%20%3D%3E%20%7B%0A%20%20%20%20this.%24.innerHTML%20%3D%20%60%3Cbutton%3E%24%7BresumeIcon%7D%3C%2Fbutton%3E%60%3B%0A%20%20%20%20this.reading%20%3D%20false%3B%0A%20%20%20%20this.reader.post(%7B%20type%3A%20'stop-speak'%20%7D)%3B%0A%20%20%7D%3B%0A%0A%20%20started%20%3D%20()%20%3D%3E%20this.TTSWrapper%20!%3D%3D%20null%3B%0A%0A%20%20speak%20%3D%20()%20%3D%3E%20%7B%0A%20%20%20%20this.reading%20%3D%20true%3B%0A%20%20%20%20if%20(this.reader.chapter.isSameNode(this.leaf))%20%7B%0A%20%20%20%20%20%20return%3B%0A%20%20%20%20%7D%0A%20%20%20%20this.TTSEle.classList.add('highlight')%3B%0A%20%20%20%20this.reader.post(%7B%20type%3A%20'speak'%2C%20data%3A%20this.TTSEle%3F.innerText.trim()%20%7D)%3B%0A%20%20%7D%3B%0A%7D%0A%0A%2F**%0A%20*%20%40type%20%7Bimport(%22.%2Ftype%22).ContextMenu%7D%0A%20*%2F%0Aclass%20ContextMenu%20%7B%0A%20%20%2F**%0A%20%20%20*%20%40param%20%7Bimport(%22.%2Ftype%22).Reader%7D%20reader%0A%20%20%20*%2F%0A%20%20constructor(reader)%20%7B%0A%20%20%20%20this.reader%20%3D%20reader%3B%0A%20%20%20%20this.items%20%3D%20%7B%0A%20%20%20%20%20%20START_READING%3A%20this.renderItem(%7B%0A%20%20%20%20%20%20%20%20name%3A%20'Start%20Reading'%2C%0A%20%20%20%20%20%20%20%20icon%3A%20volumeIcon%2C%0A%20%20%20%20%20%20%20%20action%3A%20()%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20tts.start()%3B%0A%20%20%20%20%20%20%20%20%20%20this.closeMenu()%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%7D)%2C%0A%20%20%20%20%20%20START_HERE%3A%20this.renderItem(%7B%0A%20%20%20%20%20%20%20%20name%3A%20'Start%20Here'%2C%0A%20%20%20%20%20%20%20%20icon%3A%20selectVolumeIcon%2C%0A%20%20%20%20%20%20%20%20action%3A%20()%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20tts.startHere()%3B%0A%20%20%20%20%20%20%20%20%20%20this.closeMenu()%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%7D)%2C%0A%20%20%20%20%20%20COPY%3A%20this.renderItem(%7B%0A%20%20%20%20%20%20%20%20name%3A%20'Copy'%2C%0A%20%20%20%20%20%20%20%20icon%3A%20copyIcon%2C%0A%20%20%20%20%20%20%20%20action%3A%20()%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20this.reader.post(%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20'copy'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20data%3A%20this.reader.selection.toString()%2C%0A%20%20%20%20%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%7D)%2C%0A%20%20%20%20%20%20SELECT_ALL%3A%20this.renderItem(%7B%0A%20%20%20%20%20%20%20%20name%3A%20'Select%20All'%2C%0A%20%20%20%20%20%20%20%20icon%3A%20selectAllIcon%2C%0A%20%20%20%20%20%20%20%20action%3A%20()%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20const%20range%20%3D%20document.createRange()%3B%0A%20%20%20%20%20%20%20%20%20%20range.selectNodeContents(this.reader.chapter)%3B%0A%20%20%20%20%20%20%20%20%20%20this.reader.selection.removeAllRanges()%3B%0A%20%20%20%20%20%20%20%20%20%20this.reader.selection.addRange(range)%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%7D)%2C%0A%20%20%20%20%7D%3B%0A%20%20%20%20this.commonItems%20%3D%20%5Bthis.items.COPY%2C%20this.items.SELECT_ALL%5D%3B%0A%20%20%20%20this.contextMenu%20%3D%20document.createElement('ul')%3B%0A%20%20%20%20this.contextMenu.classList.add('contextMenu')%3B%0A%20%20%20%20this.isOpened%20%3D%20false%3B%0A%20%20%7D%0A%0A%20%20%2F**%0A%20%20%20*%20%40param%20%7B%7Bname%3A%20string%2C%20icon%3A%20string%2C%20action%3A%20()%20%3D%3E%20void%7D%7D%20data%0A%20%20%20*%20%40returns%0A%20%20%20*%2F%0A%20%20renderItem(data)%20%7B%0A%20%20%20%20const%20item%20%3D%20document.createElement('li')%3B%0A%20%20%20%20const%20button%20%3D%20document.createElement('button')%3B%0A%20%20%20%20button.innerHTML%20%3D%20%60%24%7Bdata.icon%7D%20%3Cspan%3E%24%7Bdata.name%7D%3C%2Fspan%3E%60%3B%0A%20%20%20%20button.classList.add('contextMenu-button')%3B%0A%20%20%20%20item.classList.add('contextMenu-item')%3B%0A%20%20%20%20item.appendChild(button)%3B%0A%20%20%20%20button.addEventListener('click'%2C%20event%20%3D%3E%20%7B%0A%20%20%20%20%20%20event.stopPropagation()%3B%0A%20%20%20%20%20%20data.action()%3B%0A%20%20%20%20%7D)%3B%0A%20%20%20%20return%20item%3B%0A%20%20%7D%0A%0A%20%20renderMenu(items)%20%7B%0A%20%20%20%20this.contextMenu.innerHTML%20%3D%20''%3B%0A%20%20%20%20items.concat(this.commonItems).forEach((item%2C%20index)%20%3D%3E%20%7B%0A%20%20%20%20%20%20item.firstChild.setAttribute('style'%2C%20%60animation-delay%3A%20%24%7Bindex%20*%200.1%7Ds%60)%3B%0A%20%20%20%20%20%20this.contextMenu.appendChild(item)%3B%0A%20%20%20%20%7D)%3B%0A%20%20%7D%0A%0A%20%20closeMenu()%20%7B%0A%20%20%20%20if%20(this.isOpened)%20%7B%0A%20%20%20%20%20%20this.isOpened%20%3D%20false%3B%0A%20%20%20%20%20%20this.contextMenu.remove()%3B%0A%20%20%20%20%7D%0A%20%20%7D%0A%0A%20%20init()%20%7B%0A%20%20%20%20this.reader.chapter.addEventListener('click'%2C%20()%20%3D%3E%20%7B%0A%20%20%20%20%20%20this.closeMenu(this.contextMenu)%3B%0A%20%20%20%20%7D)%3B%0A%20%20%20%20document.addEventListener('contextmenu'%2C%20e%20%3D%3E%20%7B%0A%20%20%20%20%20%20e.preventDefault()%3B%0A%20%20%20%20%20%20if%20(e.target%20instanceof%20HTMLImageElement)%20%7B%0A%20%20%20%20%20%20%20%20if%20(imageModal.showing)%20%7B%0A%20%20%20%20%20%20%20%20%20%20imageModal.hide()%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20imageModal.show(e.target)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20this.isOpened%20%3D%20true%3B%0A%20%20%20%20%20%20if%20(this.reader.selection.type%20%3D%3D%3D%20'Range')%20%7B%0A%20%20%20%20%20%20%20%20this.renderMenu(%5Bthis.items.START_HERE%2C%20this.items.START_READING%5D)%3B%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20this.renderMenu(%5Bthis.items.START_READING%5D)%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20const%20%7B%20clientX%2C%20clientY%20%7D%20%3D%20e%3B%0A%20%20%20%20%20%20e.target.appendChild(this.contextMenu)%3B%0A%20%20%20%20%20%20const%20positionY%20%3D%0A%20%20%20%20%20%20%20%20clientY%20%2B%20this.contextMenu.scrollHeight%20%3E%3D%20window.innerHeight%0A%20%20%20%20%20%20%20%20%20%20%3F%20window.innerHeight%20-%20this.contextMenu.scrollHeight%20-%2020%0A%20%20%20%20%20%20%20%20%20%20%3A%20clientY%3B%0A%20%20%20%20%20%20const%20positionX%20%3D%0A%20%20%20%20%20%20%20%20clientX%20%2B%20this.contextMenu.scrollWidth%20%3E%3D%20window.innerWidth%0A%20%20%20%20%20%20%20%20%20%20%3F%20window.innerWidth%20-%20this.contextMenu.scrollWidth%20-%2020%0A%20%20%20%20%20%20%20%20%20%20%3A%20clientX%3B%0A%20%20%20%20%20%20this.contextMenu.setAttribute(%0A%20%20%20%20%20%20%20%20'style'%2C%0A%20%20%20%20%20%20%20%20%60--width%3A%20%24%7Bthis.contextMenu.scrollWidth%7Dpx%3B%0A%20%20%20%20%20%20%20%20--height%3A%20%24%7Bthis.contextMenu.scrollHeight%7Dpx%3B%0A%20%20%20%20%20%20%20%20--top%3A%20%24%7BpositionY%7Dpx%3B%0A%20%20%20%20%20%20%20%20--left%3A%20%24%7BpositionX%7Dpx%3B%60%2C%0A%20%20%20%20%20%20)%3B%0A%20%20%20%20%7D)%3B%0A%20%20%7D%0A%7D%0A%0A%2F**%0A%20*%20%40type%20%7Bimport(%22.%2Ftype%22).ImageModal%7D%0A%20*%2F%0Aclass%20ImageModal%20%7B%0A%20%20%2F**%0A%20%20%20*%20%40param%20%7Bimport('.%2Ftype').Reader%7D%20reader%0A%20%20%20*%2F%0A%20%20constructor(reader)%20%7B%0A%20%20%20%20this.reader%20%3D%20reader%3B%0A%20%20%20%20this.%24%20%3D%20document.getElementById('Image-Modal')%3B%0A%20%20%20%20this.img%20%3D%20this.%24.querySelector('img')%3B%0A%20%20%20%20this.showing%20%3D%20false%3B%0A%20%20%20%20this.%24.onclick%20%3D%20e%20%3D%3E%20%7B%0A%20%20%20%20%20%20if%20(e.target.id%20!%3D%3D%20'Image-Modal-img')%20%7B%0A%20%20%20%20%20%20%20%20e.stopPropagation()%3B%0A%20%20%20%20%20%20%20%20this.hide()%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%3B%0A%20%20%20%20this.%24.ontouchmove%20%3D%20e%20%3D%3E%20%7B%0A%20%20%20%20%20%20e.stopImmediatePropagation()%3B%0A%20%20%20%20%7D%3B%0A%20%20%7D%0A%0A%20%20%2F**%0A%20%20%20*%0A%20%20%20*%20%40param%20%7BHTMLImageElement%7D%20image%0A%20%20%20*%2F%0A%20%20show(image)%20%7B%0A%20%20%20%20this.img.src%20%3D%20image.src%3B%0A%20%20%20%20this.img.alt%20%3D%20%60Can%20not%20render%20image%20from%20%24%7Bimage.src%7D%60%3B%0A%20%20%20%20this.reader.viewport.setAttribute(%0A%20%20%20%20%20%20'content'%2C%0A%20%20%20%20%20%20'width%3Ddevice-width%2C%20initial-scale%3D1.0%2C%20maximum-scale%3D10'%2C%0A%20%20%20%20)%3B%0A%20%20%20%20this.%24.classList.add('show')%3B%0A%20%20%20%20this.showing%20%3D%20true%3B%0A%20%20%7D%0A%20%20hide()%20%7B%0A%20%20%20%20this.%24.classList.remove('show')%3B%0A%20%20%20%20this.showing%20%3D%20false%3B%0A%20%20%20%20this.img.src%20%3D%20''%3B%0A%20%20%20%20this.img.alt%20%3D%20''%3B%0A%20%20%20%20this.reader.viewport.setAttribute(%0A%20%20%20%20%20%20'content'%2C%0A%20%20%20%20%20%20'width%3Ddevice-width%2C%20initial-scale%3D1.0%2C%20maximum-scale%3D1.0'%2C%0A%20%20%20%20)%3B%0A%20%20%7D%0A%7D%0A%0Atry%20%7B%0A%20%20var%20swipeHandler%20%3D%20new%20SwipeHandler()%3B%0A%20%20var%20toolWrapper%20%3D%20new%20ToolWrapper()%3B%0A%20%20var%20reader%20%3D%20new%20Reader()%3B%0A%20%20var%20scrollHandler%20%3D%20new%20ScrollHandler(reader%2C%20toolWrapper)%3B%0A%20%20var%20tts%20%3D%20new%20TextToSpeech(reader)%3B%0A%20%20toolWrapper.tools%20%3D%20%5BscrollHandler%2C%20tts%5D%3B%0A%20%20imageModal%20%3D%20new%20ImageModal(reader)%3B%0A%20%20const%20contextMenu%20%3D%20new%20ContextMenu(reader)%3B%0A%20%20contextMenu.init()%3B%0A%7D%20catch%20(e)%20%7B%0A%20%20alert(e)%3B%0A%7D%0A"
export const cssCode = "html%20%7B%0A%20%20%20%20scroll-behavior%3A%20smooth%3B%0A%20%20%20%20overflow-x%3A%20hidden%3B%0A%20%20%20%20padding-top%3A%20var(--StatusBar-currentHeight)%3B%0A%20%20%20%20word-wrap%3A%20break-word%3B%0A%7D%0A%0A%3A%3Aselection%20%7B%0A%20%20%20%20color%3A%20var(--theme-onSecondary)%3B%0A%20%20%20%20background-color%3A%20var(--theme-secondary)%3B%0A%7D%0A%0A%3A%3A-moz-selection%20%7B%0A%20%20%20%20color%3A%20var(--theme-onSecondary)%3B%0A%20%20%20%20background-color%3A%20var(--theme-secondary)%3B%0A%7D%0A%0Abody%20%7B%0A%20%20%20%20padding-left%3A%20var(--readerSettings-padding)%3B%0A%20%20%20%20padding-right%3A%20var(--readerSettings-padding)%3B%0A%20%20%20%20padding-bottom%3A%2040px%3B%0A%0A%20%20%20%20font-size%3A%20var(--readerSettings-textSize)%3B%0A%20%20%20%20background-color%3A%20var(--readerSettings-theme)%3B%0A%20%20%20%20color%3A%20var(--readerSettings-textColor)%3B%0A%20%20%20%20text-align%3A%20var(--readerSettings-textAlign)%3B%0A%20%20%20%20line-height%3A%20var(--readerSettings-lineHeight)%3B%0A%20%20%20%20font-family%3A%20var(--readerSettings-fontFamily)%3B%0A%7D%0A%0Achapter%20%7B%0A%20%20%20%20display%3A%20block%3B%0A%7D%0A%0Ahr%20%7B%0A%20%20%20%20margin-top%3A%2020px%3B%0A%20%20%20%20margin-bottom%3A%2020px%3B%0A%7D%0A%0Aa%20%7B%0A%20%20%20%20color%3A%20var(--theme-primary)%3B%0A%7D%0A%0Aimg%20%7B%0A%20%20%20%20display%3A%20block%3B%0A%20%20%20%20width%3A%20auto%3B%0A%20%20%20%20height%3A%20auto%3B%0A%20%20%20%20max-width%3A%20100%25%3B%0A%7D%0A%0A.hidden%20%7B%0A%20%20%20%20visibility%3A%20hidden%3B%0A%7D%0A%0A.nextButton%2C%0A.infoText%20%7B%0A%20%20%20%20width%3A%20100%25%3B%0A%20%20%20%20border-radius%3A%2050px%3B%0A%20%20%20%20border-width%3A%201%3B%0A%20%20%20%20color%3A%20var(--theme-onPrimary)%3B%0A%20%20%20%20background-color%3A%20var(--theme-primary)%3B%0A%20%20%20%20font-family%3A%20var(--readerSettings-fontFamily)%3B%0A%20%20%20%20font-size%3A%2016px%3B%0A%20%20%20%20border-width%3A%200%3B%0A%20%20%20%20user-select%3A%20none%3B%0A%7D%0A%0A.nextButton%20%7B%0A%20%20%20%20min-height%3A%2040px%3B%0A%20%20%20%20text-overflow%3A%20ellipsis%3B%0A%20%20%20%20overflow%3A%20hidden%3B%0A%20%20%20%20white-space%3A%20nowrap%3B%0A%20%20%20%20padding%3A%200%2016px%3B%0A%7D%0A%0A.infoText%20%7B%0A%20%20%20%20background-color%3A%20transparent%3B%0A%20%20%20%20text-align%3A%20center%3B%0A%20%20%20%20border%3A%20none%3B%0A%20%20%20%20margin%3A%200px%3B%0A%20%20%20%20color%3A%20inherit%3B%0A%20%20%20%20padding-top%3A%2016px%3B%0A%20%20%20%20padding-bottom%3A%2016px%3B%0A%7D%0A%0A.chapterCtn%20%7B%0A%20%20%20%20min-height%3A%20var(--chapterCtn-height)%3B%0A%20%20%20%20margin-bottom%3A%20auto%3B%0A%7D%0A%0A.d-none%20%7B%0A%20%20%20%20display%3A%20none%3B%0A%7D%0A%0A%23ToolWrapper%20%7B%0A%20%20%20%20position%3A%20fixed%3B%0A%20%20%20%20top%3A%2050%25%3B%0A%20%20%20%20transform%3A%20translateY(-50%25)%3B%0A%20%20%20%20right%3A%205vw%3B%0A%20%20%20%20transition%3A%20150ms%3B%0A%7D%0A%0A%23ToolWrapper.hidden%20%7B%0A%20%20%20%20opacity%3A%200%3B%0A%20%20%20%20right%3A%200%3B%0A%7D%0A%0A%23TTS-Controller%20%7B%0A%20%20%20%20display%3A%20block%3B%0A%7D%0A%0A%23TTS-Controller%20button%7B%0A%20%20%20%20background%3A%20var(--theme-surface-0-9)%3B%0A%20%20%20%20border%3A%200%3B%0A%7D%0A%0A%23TTS-Controller%20svg%20%7B%0A%20%20%20%20fill%3A%20var(--theme-onSurface)%3B%0A%7D%0A%0A%23ScrollBar%20%7B%0A%20%20%20%20margin-top%3A%208px%3B%0A%20%20%20%20width%3A%202.4rem%3B%0A%20%20%20%20height%3A%2045vh%3B%0A%20%20%20%20min-height%3A%20200px%3B%0A%20%20%20%20border-radius%3A%201.2rem%3B%0A%20%20%20%20background-color%3A%20var(--theme-surface-0-9)%3B%0A%20%20%20%20touch-action%3A%20none%3B%0A%20%20%20%20font-size%3A%2016px%3B%0A%20%20%20%20user-select%3A%20none%3B%0A%7D%0A%0A.scrollbar-item%20%7B%0A%20%20%20%20display%3A%20flex%3B%0A%20%20%20%20justify-content%3A%20center%3B%0A%20%20%20%20align-items%3A%20center%3B%0A%20%20%20%20color%3A%20var(--theme-onSurface)%3B%0A%7D%0A%0A.scrollbar-item.scrollbar-text%20%7B%0A%20%20%20%20height%3A%2012.5%25%3B%0A%7D%0A%0A.scrollbar-item%23scrollbar-slider%20%7B%0A%20%20%20%20height%3A%2075%25%3B%0A%20%20%20%20align-items%3A%20unset%3B%0A%7D%0A%0A%23scrollbar-track%20%7B%0A%20%20%20%20width%3A%200.1rem%3B%0A%20%20%20%20height%3A%20100%25%3B%0A%20%20%20%20background-color%3A%20var(--theme-outline)%3B%0A%7D%0A%0A%23scrollbar-progress%20%7B%0A%20%20%20%20width%3A%200.1rem%3B%0A%20%20%20%20height%3A%200%3B%0A%20%20%20%20background-color%3A%20var(--theme-primary)%3B%0A%7D%0A%0A%23scrollbar-thumb-wrapper%20%7B%0A%20%20%20%20position%3A%20relative%3B%0A%20%20%20%20top%3A%20100%25%3B%0A%20%20%20%20height%3A%202rem%3B%0A%20%20%20%20width%3A%202rem%3B%0A%20%20%20%20display%3A%20flex%3B%0A%20%20%20%20align-items%3A%20center%3B%0A%20%20%20%20justify-content%3A%20center%3B%0A%20%20%20%20transform%3A%20translate(-0.95rem%2C%20-1rem)%3B%0A%7D%0A%0A%23scrollbar-thumb%20%7B%0A%20%20%20%20top%3A%20100%25%3B%0A%20%20%20%20height%3A%201rem%3B%0A%20%20%20%20width%3A%201rem%3B%0A%20%20%20%20border-radius%3A%20100%25%3B%0A%20%20%20%20background-color%3A%20var(--theme-primary)%3B%0A%7D%0A%0A%23reader-footer-wrapper%20%7B%0A%20%20%20%20position%3A%20fixed%3B%0A%20%20%20%20bottom%3A%200%3B%0A%20%20%20%20left%3A%200%3B%0A%20%20%20%20width%3A%20100%25%3B%0A%7D%0A%0A%23reader-footer%20%7B%0A%20%20%20%20display%3A%20flex%3B%0A%20%20%20%20flex%3A%201%3B%0A%20%20%20%20justify-content%3A%20space-between%3B%0A%20%20%20%20min-height%3A%202rem%3B%0A%20%20%20%20padding%3A%200.5rem%202rem%200%202rem%3B%0A%20%20%20%20background-color%3A%20var(--readerSettings-theme)%3B%0A%20%20%20%20color%3A%20var(--readerSettings-textColor)%3B%0A%20%20%20%20font-size%3A%201rem%3B%0A%20%20%20%20text-align%3A%20center%3B%0A%20%20%20%20user-select%3A%20none%3B%0A%7D%0A%0A.reader-footer-item%20%7B%0A%20%20%20%20display%3A%20flex%3B%0A%7D%0A%0Atts.highlight%20%7B%0A%20%20%20%20color%3A%20var(--theme-onSecondary)%3B%0A%20%20%20%20background-color%3A%20var(--theme-secondary)%3B%0A%7D%0A%0A.contextMenu%20%7B%0A%20%20%20%20position%3A%20absolute%3B%0A%20%20%20%20height%3A%200%3B%0A%20%20%20%20overflow%3A%20hidden%3B%0A%20%20%20%20background%3A%20var(--theme-surface-0-9)%3B%0A%20%20%20%20-webkit-backdrop-filter%3A%20blur(1px)%3B%0A%20%20%20%20backdrop-filter%3A%20blur(1px)%3B%0A%20%20%20%20position%3A%20fixed%3B%0A%20%20%20%20top%3A%20var(--top)%3B%0A%20%20%20%20left%3A%20var(--left)%3B%0A%20%20%20%20-webkit-animation%3A%20menuAnimation%200.4s%200s%20both%3B%0A%20%20%20%20animation%3A%20menuAnimation%200.4s%200s%20both%3B%0A%20%20%20%20transform-origin%3A%20left%3B%0A%20%20%20%20list-style%3A%20none%3B%0A%20%20%20%20margin%3A%204px%3B%0A%20%20%20%20padding%3A%200%3B%0A%20%20%20%20display%3A%20flex%3B%0A%20%20%20%20flex-direction%3A%20column%3B%0A%20%20%20%20z-index%3A%20999999999%3B%0A%7D%0A%0A.contextMenu-item%20%7B%0A%20%20%20%20padding%3A%204px%2C%0A%7D%0A%0A.contextMenu-button%20%7B%0A%20%20%20%20color%3A%20var(--theme-onSurface)%3B%0A%20%20%20%20background%3A%200%3B%0A%20%20%20%20border%3A%200%3B%0A%20%20%20%20white-space%3A%20nowrap%3B%0A%20%20%20%20width%3A%20100%25%3B%0A%20%20%20%20border-radius%3A%204px%3B%0A%20%20%20%20padding%3A%206px%2024px%206px%207px%3B%0A%20%20%20%20text-align%3A%20left%3B%0A%20%20%20%20display%3A%20flex%3B%0A%20%20%20%20align-items%3A%20center%3B%0A%20%20%20%20font-size%3A%2014px%3B%0A%20%20%20%20width%3A%20100%25%3B%0A%20%20%20%20-webkit-animation%3A%20menuItemAnimation%200.2s%200s%20both%3B%0A%20%20%20%20animation%3A%20menuItemAnimation%200.2s%200s%20both%3B%0A%20%20%20%20font-family%3A%20var(--readerSettings-fontFamily)%3B%0A%20%20%20%20cursor%3A%20pointer%3B%0A%20%20%20%20user-select%3A%20none%3B%0A%20%20%20%20-webkit-tap-highlight-color%3A%20var(--theme-rippleColor)%3B%0A%7D%0A%0A.contextMenu-button%20svg%20%7B%0A%20%20%20%20fill%3A%20var(--theme-onSurface)%3B%0A%7D%0A.contextMenu-button%20span%20%7B%0A%20%20%20%20margin-left%3A%204px%3B%0A%7D%0A%0A%40-webkit-keyframes%20menuAnimation%20%7B%0A%20%20%20%200%25%20%7B%0A%20%20%20%20%20%20%20%20opacity%3A%200%3B%0A%20%20%20%20%20%20%20%20transform%3A%20scale(0.5)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20100%25%20%7B%0A%20%20%20%20%20%20%20%20height%3A%20var(--height)%3B%0A%20%20%20%20%20%20%20%20opacity%3A%201%3B%0A%20%20%20%20%20%20%20%20border-radius%3A%208px%3B%0A%20%20%20%20%20%20%20%20transform%3A%20scale(1)%3B%0A%20%20%20%20%7D%0A%7D%0A%0A%40keyframes%20menuAnimation%20%7B%0A%20%20%20%200%25%20%7B%0A%20%20%20%20%20%20%20%20opacity%3A%200%3B%0A%20%20%20%20%20%20%20%20transform%3A%20scale(0.5)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20100%25%20%7B%0A%20%20%20%20%20%20%20%20height%3A%20var(--height)%3B%0A%20%20%20%20%20%20%20%20opacity%3A%201%3B%0A%20%20%20%20%20%20%20%20border-radius%3A%208px%3B%0A%20%20%20%20%20%20%20%20transform%3A%20scale(1)%3B%0A%20%20%20%20%7D%0A%7D%0A%0A%40-webkit-keyframes%20menuItemAnimation%20%7B%0A%20%20%20%200%25%20%7B%0A%20%20%20%20%20%20%20%20opacity%3A%200%3B%0A%20%20%20%20%20%20%20%20transform%3A%20translateX(-10px)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20100%25%20%7B%0A%20%20%20%20%20%20%20%20opacity%3A%201%3B%0A%20%20%20%20%20%20%20%20transform%3A%20translateX(0)%3B%0A%20%20%20%20%7D%0A%7D%0A%0A%40keyframes%20menuItemAnimation%20%7B%0A%20%20%20%200%25%20%7B%0A%20%20%20%20%20%20%20%20opacity%3A%200%3B%0A%20%20%20%20%20%20%20%20transform%3A%20translateX(-10px)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20100%25%20%7B%0A%20%20%20%20%20%20%20%20opacity%3A%201%3B%0A%20%20%20%20%20%20%20%20transform%3A%20translateX(0)%3B%0A%20%20%20%20%7D%0A%7D%0A%0A%23Image-Modal%20%7B%0A%20%20%20%20position%3A%20fixed%3B%0A%20%20%20%20left%3A%200%3B%0A%20%20%20%20top%3A%200%3B%0A%20%20%20%20user-select%3A%20none%3B%0A%7D%0A%0A%23Image-Modal.show%20%7B%0A%20%20%20%20display%3A%20flex%3B%0A%20%20%20%20height%3A%20100%25%3B%0A%20%20%20%20width%3A%20100%25%3B%0A%20%20%20%20background-color%3A%20var(--theme-surface-0-9)%3B%0A%20%20%20%20align-items%3A%20center%3B%0A%20%20%20%20justify-content%3A%20center%3B%0A%20%20%20%20overflow%3A%20scroll%3B%0A%7D%0A%0A%23Image%20img%20%7B%0A%20%20%20%20display%3A%20block%3B%0A%20%20%20%20width%3A%20100%25%3B%0A%7D"
