
export const index_css = "html%20%7B%0A%20%20scroll-behavior%3A%20smooth%3B%0A%20%20overflow-x%3A%20hidden%3B%0A%20%20word-wrap%3A%20break-word%3B%0A%7D%0A%0A%3A%3Aselection%20%7B%0A%20%20color%3A%20var(--theme-onSecondary)%3B%0A%20%20background-color%3A%20var(--theme-secondary)%3B%0A%7D%0A%0A%3A%3A-moz-selection%20%7B%0A%20%20color%3A%20var(--theme-onSecondary)%3B%0A%20%20background-color%3A%20var(--theme-secondary)%3B%0A%7D%0A%0Abody%20%7B%0A%20%20margin-left%3A%200%3B%0A%20%20margin-right%3A%200%3B%0A%20%20padding-bottom%3A%2040px%3B%0A%20%20padding-top%3A%20var(--StatusBar-currentHeight)%3B%0A%0A%20%20font-size%3A%20var(--readerSettings-textSize)%3B%0A%20%20background-color%3A%20var(--readerSettings-theme)%3B%0A%20%20color%3A%20var(--readerSettings-textColor)%3B%0A%20%20text-align%3A%20var(--readerSettings-textAlign)%3B%0A%20%20line-height%3A%20var(--readerSettings-lineHeight)%3B%0A%20%20font-family%3A%20var(--readerSettings-fontFamily)%3B%0A%7D%0A%0Abody.page-reader%20%7B%20%0A%20%20overflow%3A%20hidden%3B%0A%20%20padding-bottom%3A%20unset%3B%0A%7D%0A%0A%23LNReader-chapter%20%7B%0A%20%20padding-left%3A%20var(--readerSettings-padding)%3B%0A%20%20padding-right%3A%20var(--readerSettings-padding)%3B%0A%7D%0A%0Abody.page-reader%20%3E%20%23LNReader-chapter%7B%0A%20%20height%3A%20calc(90vh)%3B%0A%20%20column-width%3A%20calc(100vw%20-%20var(--readerSettings-padding)%20*%202)%3B%0A%20%20column-gap%3A%20calc(var(--readerSettings-padding)%20*%202)%3B%0A%20%20transition%3A%20200ms%3B%0A%7D%0A%0Ahr%20%7B%0A%20%20margin-top%3A%2020px%3B%0A%20%20margin-bottom%3A%2020px%3B%0A%7D%0A%0Aa%20%7B%0A%20%20color%3A%20var(--theme-primary)%3B%0A%7D%0A%0Aimg%20%7B%0A%20%20display%3A%20block%3B%0A%20%20width%3A%20auto%3B%0A%20%20height%3A%20auto%3B%0A%20%20max-width%3A%20100%25%3B%0A%7D%0A%0Atable%20%7B%0A%20%20background-color%3A%20var(--theme-onPrimary)%3B%0A%20%20border-collapse%3A%20collapse%3B%0A%20%20color%3A%20var(--theme-primary)%3B%0A%7D%0A%0Ath%20%7B%0A%20%20font-weight%3A%20bold%3B%0A%7D%0A%0Atd%20%7B%0A%20%20padding%3A%2010px%3B%0A%20%20text-align%3A%20center%3B%0A%7D%0A%0Atable%2C%0Ath%2C%0Atd%20%7B%0A%20%20border%3A%201px%20solid%20var(--theme-outline)%3B%0A%7D%0A%0A.hidden%20%7B%0A%20%20visibility%3A%20hidden%3B%0A%7D%0A%0A.next-button%2C%0A.info-text%20%7B%0A%20%20margin-left%3A%20var(--readerSettings-padding)%3B%0A%20%20margin-right%3A%20var(--readerSettings-padding)%3B%0A%20%20border-radius%3A%2050px%3B%0A%20%20border-width%3A%201%3B%0A%20%20color%3A%20var(--theme-onPrimary)%3B%0A%20%20background-color%3A%20var(--theme-primary)%3B%0A%20%20font-family%3A%20var(--readerSettings-fontFamily)%3B%0A%20%20font-size%3A%2016px%3B%0A%20%20border-width%3A%200%3B%0A%20%20user-select%3A%20none%3B%0A%7D%0A%0A.next-button%20%7B%0A%20%20min-height%3A%2040px%3B%0A%20%20text-overflow%3A%20ellipsis%3B%0A%20%20overflow%3A%20hidden%3B%0A%20%20white-space%3A%20nowrap%3B%0A%20%20padding%3A%200%2016px%3B%0A%20%20width%3A%20calc(100%25%20-%20var(--readerSettings-padding)%20*%202)%3B%0A%7D%0A%0A.info-text%20%7B%0A%20%20background-color%3A%20transparent%3B%0A%20%20text-align%3A%20center%3B%0A%20%20border%3A%20none%3B%0A%20%20margin%3A%200px%3B%0A%20%20color%3A%20inherit%3B%0A%20%20padding-top%3A%2016px%3B%0A%20%20padding-bottom%3A%2016px%3B%0A%7D%0A%0A.d-none%20%7B%0A%20%20display%3A%20none%3B%0A%7D%0A%0A%23ToolWrapper%20%7B%0A%20%20position%3A%20fixed%3B%0A%20%20top%3A%2050%25%3B%0A%20%20transform%3A%20translateY(-50%25)%3B%0A%20%20right%3A%205vw%3B%0A%7D%0A%0A%23ToolWrapper.horizontal%20%7B%0A%20%20top%3A%20unset%3B%0A%20%20right%3A%20unset%3B%0A%20%20left%3A%2050%25%3B%0A%20%20transform%3A%20translateX(-50%25)%3B%0A%20%20bottom%3A%20120px%3B%0A%20%20display%3A%20flex%3B%0A%20%20flex-direction%3A%20row-reverse%3B%0A%20%20align-items%3A%20center%3B%0A%7D%0A%0A%40media%20only%20screen%20and%20(min-width%3A%20500px)%20%7B%0A%20%20%23ToolWrapper.horizontal%20%7B%0A%20%20%20%20bottom%3A%2080px%3B%0A%20%20%7D%0A%7D%0A%0A%23ToolWrapper.hidden%20%7B%0A%20%20opacity%3A%200%3B%0A%20%20right%3A%200%3B%0A%7D%0A%0A%23ToolWrapper.hidden.horizontal%20%7B%0A%20%20opacity%3A%200%3B%0A%20%20bottom%3A%200%3B%0A%20%20right%3A%20unset%3B%0A%7D%0A%0A%23ToolWrapper%20%3E%20%23ScrollBar%20%7B%0A%20%20margin-top%3A%208px%3B%0A%20%20width%3A%202.4rem%3B%0A%20%20height%3A%2050vh%3B%0A%20%20min-height%3A%20200px%3B%0A%20%20border-radius%3A%201.2rem%3B%0A%20%20background-color%3A%20var(--theme-surface-0-9)%3B%0A%20%20touch-action%3A%20none%3B%0A%20%20font-size%3A%2014px%3B%0A%20%20user-select%3A%20none%3B%0A%7D%0A%0A%23ScrollBar%20%3E%20.scrollbar-item%20%7B%0A%20%20display%3A%20flex%3B%0A%20%20justify-content%3A%20center%3B%0A%20%20align-items%3A%20center%3B%0A%20%20color%3A%20var(--theme-onSurface)%3B%0A%7D%0A%0A%23ScrollBar%20%3E%20.scrollbar-item.scrollbar-text%20%7B%0A%20%20height%3A%2012.5%25%3B%0A%7D%0A%0A%23ScrollBar%20%3E%20.scrollbar-item%23scrollbar-slider%20%7B%0A%20%20height%3A%2075%25%3B%0A%20%20align-items%3A%20unset%3B%0A%7D%0A%0A%23ScrollBar%20%23scrollbar-track%20%7B%0A%20%20width%3A%200.1rem%3B%0A%20%20height%3A%20100%25%3B%0A%20%20background-color%3A%20var(--theme-outline)%3B%0A%7D%0A%0A%23ScrollBar%20%23scrollbar-progress%20%7B%0A%20%20width%3A%20100%25%3B%0A%20%20height%3A%200%3B%0A%20%20background-color%3A%20var(--theme-primary)%3B%0A%7D%0A%0A%23ScrollBar%20%23scrollbar-thumb-wrapper%20%7B%0A%20%20position%3A%20relative%3B%0A%20%20top%3A%20100%25%3B%0A%20%20height%3A%202rem%3B%0A%20%20width%3A%202rem%3B%0A%20%20display%3A%20flex%3B%0A%20%20align-items%3A%20center%3B%0A%20%20justify-content%3A%20center%3B%0A%20%20transform%3A%20translate(-0.95rem%2C%20-1rem)%3B%0A%7D%0A%0A%23ScrollBar%20%23scrollbar-thumb%20%7B%0A%20%20top%3A%20100%25%3B%0A%20%20height%3A%201rem%3B%0A%20%20width%3A%201rem%3B%0A%20%20border-radius%3A%20100%25%3B%0A%20%20background-color%3A%20var(--theme-primary)%3B%0A%7D%0A%0A%23ToolWrapper.horizontal%20%3E%20%23ScrollBar%20%7B%0A%20%20display%3A%20flex%3B%0A%20%20width%3A%2095.5vw%3B%0A%20%20height%3A%202.4rem%3B%0A%20%20min-height%3A%20unset%3B%0A%20%20align-items%3A%20center%3B%0A%20%20margin-top%3A%20unset%3B%0A%7D%0A%0A%23ToolWrapper.horizontal%20%3E%20%23ScrollBar%20%3E%20.scrollbar-item%20%7B%0A%20%20display%3A%20flex%3B%0A%20%20justify-content%3A%20center%3B%0A%20%20color%3A%20var(--theme-onSurface)%3B%0A%7D%0A%0A%23ToolWrapper.horizontal%20%3E%20%23ScrollBar%20%3E%20.scrollbar-item.scrollbar-text%20%7B%0A%20%20width%3A%2012.5%25%3B%0A%7D%0A%0A%23ToolWrapper.horizontal%20%3E%20%23ScrollBar%20%3E%20.scrollbar-item%23scrollbar-slider%20%7B%0A%20%20width%3A%2075%25%3B%0A%20%20align-items%3A%20center%3B%0A%7D%0A%0A%23ToolWrapper.horizontal%20%3E%20%23ScrollBar%20%23scrollbar-track%20%7B%0A%20%20height%3A%200.1rem%3B%0A%20%20width%3A%20100%25%3B%0A%20%20background-color%3A%20var(--theme-outline)%3B%0A%7D%0A%0A%23ToolWrapper.horizontal%20%3E%20%23ScrollBar%20%23scrollbar-progress%20%7B%0A%20%20height%3A%20100%25%3B%0A%20%20width%3A%200%3B%0A%20%20background-color%3A%20var(--theme-primary)%3B%0A%7D%0A%0A%23ToolWrapper.horizontal%20%3E%20%23ScrollBar%20%23scrollbar-thumb-wrapper%20%7B%0A%20%20position%3A%20relative%3B%0A%20%20left%3A%20100%25%3B%0A%20%20height%3A%202rem%3B%0A%20%20width%3A%202rem%3B%0A%20%20display%3A%20flex%3B%0A%20%20align-items%3A%20center%3B%0A%20%20justify-content%3A%20center%3B%0A%20%20transform%3A%20translate(-0.95rem%2C%20-1rem)%3B%0A%7D%0A%0A%23ToolWrapper.horizontal%20%3E%20%23ScrollBar%20%23scrollbar-thumb%20%7B%0A%20%20top%3A%20100%25%3B%0A%20%20height%3A%201rem%3B%0A%20%20width%3A%201rem%3B%0A%20%20border-radius%3A%20100%25%3B%0A%20%20background-color%3A%20var(--theme-primary)%3B%0A%7D%0A%0A%23reader-footer-wrapper%20%7B%0A%20%20position%3A%20fixed%3B%0A%20%20bottom%3A%200%3B%0A%20%20left%3A%200%3B%0A%20%20width%3A%20100%25%3B%0A%7D%0A%0A%23reader-footer%20%7B%0A%20%20display%3A%20flex%3B%0A%20%20flex%3A%203%3B%0A%20%20padding%3A%200.2rem%202rem%3B%0A%20%20background-color%3A%20var(--readerSettings-theme)%3B%0A%20%20color%3A%20var(--readerSettings-textColor)%3B%0A%20%20font-size%3A%201rem%3B%0A%20%20text-align%3A%20center%3B%0A%20%20user-select%3A%20none%3B%0A%7D%0A%0A.reader-footer-item%20%7B%0A%20%20flex%3A%201%3B%0A%7D%0A%0A.reader-footer-item%3Afirst-child%20%7B%0A%20%20text-align%3A%20left%3B%0A%7D%0A%0A.reader-footer-item%3Alast-child%20%7B%0A%20%20text-align%3A%20right%3B%0A%7D%0A%0A.highlight%2C%20.highlight%20*%7B%0A%20%20color%3A%20var(--theme-onSecondary)%20!important%3B%0A%20%20background-color%3A%20var(--theme-secondary)%3B%0A%7D%0A%0A%23Image-Modal%20%7B%0A%20%20position%3A%20fixed%3B%0A%20%20left%3A%200%3B%0A%20%20top%3A%200%3B%0A%20%20user-select%3A%20none%3B%0A%7D%0A%0A%23Image-Modal.show%20%7B%0A%20%20display%3A%20flex%3B%0A%20%20height%3A%20100%25%3B%0A%20%20width%3A%20100%25%3B%0A%20%20background-color%3A%20var(--theme-surface-0-9)%3B%0A%20%20align-items%3A%20center%3B%0A%20%20justify-content%3A%20center%3B%0A%20%20overflow%3A%20scroll%3B%0A%7D%0A%0A%23Image%20img%20%7B%0A%20%20display%3A%20block%3B%0A%20%20width%3A%20100%25%3B%0A%7D%0A%0A%23TTS-Controller%20%7B%0A%20%20position%3A%20fixed%3B%0A%20%20top%3A%2050%25%3B%0A%20%20left%3A%2020px%3B%0A%20%20opacity%3A%200.5%3B%0A%7D%0A%0A%23TTS-Controller%20button%20%7B%0A%20%20background%3A%20var(--theme-surface-0-9)%3B%0A%20%20outline%3A%20none%3B%0A%20%20border-width%3A%200%3B%0A%20%20display%3A%20flex%3B%0A%20%20justify-items%3A%20center%3B%0A%20%20align-items%3A%20center%3B%0A%20%20padding%3A%204px%3B%0A%20%20border-radius%3A%20100%25%3B%0A%20%20transition%3A%20.5s%3B%0A%7D%0A%0A%23TTS-Controller.active%7B%0A%20%20opacity%3A%201%3B%0A%7D%0A%0A%23TTS-Controller.active%20button%20%7B%0A%20%20padding%3A%2016px%3B%0A%7D%0A%0A%23TTS-Controller%20svg%20%7B%0A%20%20fill%3A%20var(--theme-onSurface)%3B%0A%20%20width%3A%2020px%3B%0A%20%20height%3A%2020px%3B%0A%7D%0A%0A%23TTS-Controller.active%20svg%20%7B%0A%20%20width%3A%2024px%3B%0A%20%20height%3A%2024px%3B%0A%7D%0A"
export const icons_js = "const%20volumnIcon%20%3D%0A%20%20'%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20height%3D%2220px%22%20viewBox%3D%220%20-960%20960%20960%22%20width%3D%2220px%22%20fill%3D%22%23e8eaed%22%3E%3Cpath%20d%3D%22M552-152v-75q86-23%20139-93.5T744-480q0-89-53.5-158.5T552-734v-75q116%2025%20190%20117t74%20211q0%20119-73.5%20211.5T552-152ZM144-385v-192h144l192-192v576L288-385H144Zm408%2055v-302q45%2020%2070.5%2061t25.5%2090q0%2049-25.5%2089.5T552-330Z%22%2F%3E%3C%2Fsvg%3E'%3B%0Aconst%20pauseIcon%20%3D%0A%20%20'%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20height%3D%2220px%22%20viewBox%3D%220%20-960%20960%20960%22%20width%3D%2220px%22%20fill%3D%22%23e8eaed%22%3E%3Cpath%20d%3D%22M564-228v-504h168v504H564Zm-336%200v-504h168v504H228Z%22%2F%3E%3C%2Fsvg%3E'%3B%0Aconst%20resumeIcon%20%3D%0A%20%20'%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20height%3D%2220px%22%20viewBox%3D%220%20-960%20960%20960%22%20width%3D%2220px%22%20fill%3D%22%23e8eaed%22%3E%3Cpath%20d%3D%22M240-240v-480h72v480h-72Zm144%200%20384-240-384-240v480Z%22%2F%3E%3C%2Fsvg%3E'%3B%0A"
export const van_js = "%7Blet%20e%2Ct%2Cr%2Co%2Cn%2Cl%2Cs%2Cf%2Ci%2Ch%2Cw%2Ca%2Cd%2Cu%2C_%2Cc%2CS%2Cg%2Cy%2Cb%2Cm%2Cv%2Cj%2Cx%2CO%3B%20s%20%3D%20Object.getPrototypeOf%2Ci%20%3D%20%7B%7D%2Ch%20%3D%20s(f%20%3D%20%7BisConnected%3A1%7D)%2Cw%20%3D%20s(s)%2Ca%20%3D%20(e%2Ct%2Cr%2Co)%3D%3E(e%20%3F%3F%20(setTimeout(r%2Co)%2Cnew%20Set())).add(t)%2Cd%20%3D%20(e%2Ct%2Co)%3D%3E%7Blet%20n%20%3D%20r%3B%20r%20%3D%20t%3B%20try%20%7Breturn%20e(o)%3B%7D%20catch%20(e)%7Breturn%20console.error(e)%2Co%3B%7D%20finally%20%7Br%20%3D%20n%3B%7D%7D%2Cu%20%3D%20e%3D%3Ee.filter(e%3D%3Ee.t%3F.isConnected)%2C_%20%3D%20e%3D%3En%20%3D%20a(n%2Ce%2C()%3D%3E%7Bfor%20(let%20e%20of%20n)%7Be.o%20%3D%20u(e.o)%2Ce.l%20%3D%20u(e.l)%3B%7Dn%20%3D%20l%3B%7D%2C1e3)%2Cc%20%3D%20%7Bget%20val()%7Breturn%20r%3F.i%3F.add(this)%2Cthis.rawVal%3B%7D%2Cget%20oldVal()%7Breturn%20r%3F.i%3F.add(this)%2Cthis.h%3B%7D%2Cset%20val(o)%7Br%3F.u%3F.add(this)%2Co%20!%3D%3D%20this.rawVal%20%26%26%20(this.rawVal%20%3D%20o%2Cthis.o.length%20%2B%20this.l.length%20%3F%20(t%3F.add(this)%2Ce%20%3D%20a(e%2Cthis%2Cx))%20%3A%20this.h%20%3D%20o)%3B%7D%7D%2CS%20%3D%20e%3D%3E(%7B__proto__%3Ac%2CrawVal%3Ae%2Ch%3Ae%2Co%3A%5B%5D%2Cl%3A%5B%5D%7D)%2Cg%20%3D%20(e%2Ct)%3D%3E%7Blet%20r%20%3D%20%7Bi%3Anew%20Set()%2Cu%3Anew%20Set()%7D%2Cn%20%3D%20%7Bf%3Ae%7D%2Cl%20%3D%20o%3B%20o%20%3D%20%5B%5D%3B%20let%20s%20%3D%20d(e%2Cr%2Ct)%3B%20s%20%3D%20(s%20%3F%3F%20document).nodeType%20%3F%20s%20%3A%20new%20Text(s)%3B%20for%20(let%20e%20of%20r.i)%7Br.u.has(e)%20%7C%7C%20(_(e)%2Ce.o.push(n))%3B%7D%20for%20(let%20e%20of%20o)%7Be.t%20%3D%20s%3B%7D%20return%20o%20%3D%20l%2Cn.t%20%3D%20s%3B%7D%2Cy%20%3D%20(e%2Ct%20%3D%20S()%2Cr)%3D%3E%7Blet%20n%20%3D%20%7Bi%3Anew%20Set()%2Cu%3Anew%20Set()%7D%2Cl%20%3D%20%7Bf%3Ae%2Cs%3At%7D%3B%20l.t%20%3D%20r%20%3F%3F%20o%3F.push(l)%20%3F%3F%20f%2Ct.val%20%3D%20d(e%2Cn%2Ct.rawVal)%3B%20for%20(let%20e%20of%20n.i)%7Bn.u.has(e)%20%7C%7C%20(_(e)%2Ce.l.push(l))%3B%7D%20return%20t%3B%7D%2Cb%20%3D%20(e%2C...t)%3D%3E%7Bfor%20(let%20r%20of%20t.flat(1%20%2F%200))%7Blet%20t%20%3D%20s(r%20%3F%3F%200)%2Co%20%3D%20t%20%3D%3D%3D%20c%20%3F%20g(()%3D%3Er.val)%20%3A%20t%20%3D%3D%3D%20w%20%3F%20g(r)%20%3A%20r%3B%20o%20!%3D%20l%20%26%26%20e.append(o)%3B%7D%20return%20e%3B%7D%2Cm%20%3D%20(e%2Ct%2C...r)%3D%3E%7Blet%20%5Bo%2C...n%5D%20%3D%20s(r%5B0%5D%20%3F%3F%200)%20%3D%3D%3D%20h%20%3F%20r%20%3A%20%5B%7B%7D%2C...r%5D%2Cf%20%3D%20e%20%3F%20document.createElementNS(e%2Ct)%20%3A%20document.createElement(t)%3B%20for%20(let%20%5Be%2Cr%5D%20of%20Object.entries(o))%7Blet%20o%20%3D%20t%3D%3Et%20%3F%20Object.getOwnPropertyDescriptor(t%2Ce)%20%3F%3F%20o(s(t))%20%3A%20l%2Cn%20%3D%20t%20%2B%20'%2C'%20%2B%20e%2Ch%20%3D%20i%5Bn%5D%20%3F%3F%20(i%5Bn%5D%20%3D%20o(s(f))%3F.set%20%3F%3F%200)%2Ca%20%3D%20e.startsWith('on')%20%3F%20(t%2Cr)%3D%3E%7Blet%20o%20%3D%20e.slice(2)%3B%20f.removeEventListener(o%2Cr)%2Cf.addEventListener(o%2Ct)%3B%7D%20%3A%20h%20%3F%20h.bind(f)%20%3A%20f.setAttribute.bind(f%2Ce)%2Cd%20%3D%20s(r%20%3F%3F%200)%3B%20e.startsWith('on')%20%7C%7C%20d%20%3D%3D%3D%20w%20%26%26%20(r%20%3D%20y(r)%2Cd%20%3D%20c)%2Cd%20%3D%3D%3D%20c%20%3F%20g(()%3D%3E(a(r.val%2Cr.h)%2Cf))%20%3A%20a(r)%3B%7D%20return%20b(f%2Cn)%3B%7D%2Cv%20%3D%20e%3D%3E(%7Bget%3A(t%2Cr)%3D%3Em.bind(l%2Ce%2Cr)%7D)%2Cj%20%3D%20(e%2Ct)%3D%3Et%20%3F%20t%20!%3D%3D%20e%20%26%26%20e.replaceWith(t)%20%3A%20e.remove()%2Cx%20%3D%20()%3D%3E%7Blet%20r%20%3D%200%2Co%20%3D%20%5B...e%5D.filter(e%3D%3Ee.rawVal%20!%3D%3D%20e.h)%3B%20do%20%7Bt%20%3D%20new%20Set()%3B%20for%20(let%20e%20of%20new%20Set(o.flatMap(e%3D%3Ee.l%20%3D%20u(e.l))))%7By(e.f%2Ce.s%2Ce.t)%2Ce.t%20%3D%20l%3B%7D%7D%20while%20(%2B%2Br%20%3C%20100%20%26%26%20(o%20%3D%20%5B...t%5D).length)%3B%20let%20n%20%3D%20%5B...e%5D.filter(e%3D%3Ee.rawVal%20!%3D%3D%20e.h)%3B%20e%20%3D%20l%3B%20for%20(let%20e%20of%20new%20Set(n.flatMap(e%3D%3Ee.o%20%3D%20u(e.o))))%7Bj(e.t%2Cg(e.f%2Ce.t))%2Ce.t%20%3D%20l%3B%7D%20for%20(let%20e%20of%20n)%7Be.h%20%3D%20e.rawVal%3B%7D%7D%2CO%20%3D%20%7Btags%3Anew%20Proxy(e%3D%3Enew%20Proxy(m%2Cv(e))%2Cv())%2Chydrate%3A(e%2Ct)%3D%3Ej(e%2Cg(t%2Ce))%2Cadd%3Ab%2Cstate%3AS%2Cderive%3Ay%7D%2Cwindow.van%20%3D%20O%3B%7D%0A"
export const text_vibe_js = "var%20textVide%20%3D%20function(L)%7B'use%20strict'%3B%20const%20f%20%3D%20t%3D%3Et%20%3D%3D%20null%20%7C%7C%20t%20%3D%3D%3D%20''%2Ch%20%3D%20(t%2Cn)%3D%3EObject.keys(t).reduce((e%2Cs)%3D%3E(n(e%5Bs%5D)%20%26%26%20delete%20e%5Bs%5D%2Ce)%2Ct)%2CI%20%3D%20(t%2Cn)%3D%3E(%7B...n%2C...h(t%2Cf)%7D)%2C_%20%3D%20%5B'%3Cb%3E'%2C'%3C%2Fb%3E'%5D%2Cy%20%3D%20t%3D%3EI(t%2C%7Bsep%3A_%2CfixationPoint%3A1%2CignoreHtmlTag%3A!0%2CignoreHtmlEntity%3A!0%7D)%2Cu%20%3D%20%5B%5B0%2C4%2C12%2C17%2C24%2C29%2C35%2C42%2C48%5D%2C%5B1%2C2%2C7%2C10%2C13%2C14%2C19%2C22%2C25%2C28%2C31%2C34%2C37%2C40%2C43%2C46%2C49%5D%2C%5B1%2C2%2C5%2C7%2C9%2C11%2C13%2C15%2C17%2C19%2C21%2C23%2C25%2C27%2C29%2C31%2C33%2C35%2C37%2C39%2C41%2C43%2C45%2C47%2C49%5D%2C%5B0%2C2%2C4%2C5%2C6%2C8%2C9%2C11%2C14%2C15%2C17%2C18%2C20%2C0%2C21%2C23%2C24%2C26%2C27%2C29%2C30%2C32%2C33%2C35%2C36%2C38%2C39%2C41%2C42%2C44%2C45%2C47%2C48%5D%2C%5B0%2C2%2C3%2C5%2C6%2C7%2C8%2C10%2C11%2C12%2C14%2C15%2C17%2C19%2C20%2C21%2C23%2C24%2C25%2C26%2C28%2C29%2C30%2C32%2C33%2C34%2C35%2C37%2C38%2C39%2C41%2C42%2C43%2C44%2C46%2C47%2C48%5D%5D%2CA%20%3D%20(t%2Cn)%3D%3E%7Bconst%20%7Blength%3Ai%7D%20%3D%20t%2Ce%20%3D%20u%5Bn%20-%201%5D%20%3F%3F%20u%5B0%5D%2Cs%20%3D%20e.findIndex(c%3D%3Ei%20%3C%3D%20c)%3B%20let%20o%20%3D%20i%20-%20s%3B%20return%20s%20%3D%3D%3D%20-1%20%26%26%20(o%20%3D%20i%20-%20e.length)%2CMath.max(o%2C0)%3B%7D%2CR%20%3D%20(t%2Cn)%3D%3Etypeof%20n%20%3D%3D%3D%20'string'%20%3F%20%60%24%7Bn%7D%24%7Bt%7D%24%7Bn%7D%60%20%3A%20%60%24%7Bn%5B0%5D%7D%24%7Bt%7D%24%7Bn%5B1%5D%7D%60%2Cm%20%3D%20t%3D%3EArray.from(t).map(n%3D%3E%7Bconst%20i%20%3D%20n.index%2C%5Be%5D%20%3D%20n%2C%7Blength%3As%7D%20%3D%20e%3B%20return%20%5Bi%2Ci%20%2B%20s%20-%201%5D%3B%7D)%2CH%20%3D%20%2F(%3C!--%5B%5Cs%5CS%5D*%3F--%3E)%7C(%3C%5B%5E%3E%5D*%3E)%2Fg%2CN%20%3D%20t%3D%3E%7Bconst%20n%20%3D%20t.matchAll(H)%2Ce%20%3D%20m(n).reverse()%3B%20return%20s%3D%3E%7Bconst%20o%20%3D%20s.index%2Cc%20%3D%20e.find((%5Br%5D)%3D%3Eo%20%3E%20r)%3B%20if%20(!c)%20%7Breturn%20!1%3B%7D%20const%20%5B%2Ca%5D%20%3D%20c%3B%20return%20o%20%3C%20a%3B%7D%3B%7D%2CO%20%3D%20%2F(%26%5B%5Cw%23%5D%2B%3B)%2Fg%2CM%20%3D%20t%3D%3E%7Bconst%20n%20%3D%20t.matchAll(O)%2Ce%20%3D%20m(n).reverse()%3B%20return%20s%3D%3E%7Bconst%20o%20%3D%20s.index%2Cc%20%3D%20e.find((%5Br%5D)%3D%3Eo%20%3E%20r)%3B%20if%20(!c)%20%7Breturn%20!1%3B%7D%20const%20%5B%2Ca%5D%20%3D%20c%3B%20return%20o%20%3C%20a%3B%7D%3B%7D%2Cx%20%3D%20%2F(%5Cp%7BL%7D%7C%5Cp%7BNd%7D)*%5Cp%7BL%7D(%5Cp%7BL%7D%7C%5Cp%7BNd%7D)*%2Fgu%2CF%20%3D%20(t%2Cn%20%3D%20%7B%7D)%3D%3E%7Bif%20(!(t%20!%3D%20null%20%26%26%20t.length))%20%7Breturn%20''%3B%7D%20const%20%7BfixationPoint%3Ai%2Csep%3Ae%2CignoreHtmlTag%3As%2CignoreHtmlEntity%3Ao%7D%20%3D%20y(n)%2Cc%20%3D%20Array.from(t.matchAll(x))%3B%20let%20a%20%3D%20''%2Cl%20%3D%200%2Cr%3B%20s%20%26%26%20(r%20%3D%20N(t))%3B%20let%20d%3B%20o%20%26%26%20(d%20%3D%20M(t))%3B%20for%20(const%20g%20of%20c)%7Bif%20((r%20%3D%3D%20null%20%3F%20void%200%20%3A%20r(g))%20%7C%7C%20(d%20%3D%3D%20null%20%3F%20void%200%20%3A%20d(g)))%20%7Bcontinue%3B%7D%20const%20%5BD%5D%20%3D%20g%2CT%20%3D%20g.index%2CE%20%3D%20T%20%2B%20A(D%2Ci)%2CU%20%3D%20t.slice(l%2CT)%3B%20a%20%2B%3D%20U%2CT%20!%3D%3D%20E%20%26%26%20(a%20%2B%3D%20R(t.slice(T%2CE)%2Ce))%2Cl%20%3D%20E%3B%7D%20const%20G%20%3D%20t.slice(l)%3B%20return%20a%20%2B%20G%3B%7D%3B%20return%20L.textVide%20%3D%20F%2CObject.defineProperty(L%2CSymbol.toStringTag%2C%7Bvalue%3A'Module'%7D)%2CL%3B%7D(%7B%7D)%3B%0A"
export const core_js = "window.reader%20%3D%20new%20(function%20()%20%7B%0A%20%20const%20%7B%0A%20%20%20%20readerSettings%2C%0A%20%20%20%20chapterGeneralSettings%2C%0A%20%20%20%20novel%2C%0A%20%20%20%20chapter%2C%0A%20%20%20%20nextChapter%2C%0A%20%20%20%20batteryLevel%2C%0A%20%20%20%20autoSaveInterval%2C%0A%20%20%20%20DEBUG%2C%0A%20%20%20%20strings%2C%0A%20%20%7D%20%3D%20initialReaderConfig%3B%0A%0A%20%20%2F%2F%20state%0A%20%20this.hidden%20%3D%20van.state(true)%3B%0A%20%20this.batteryLevel%20%3D%20van.state(batteryLevel)%3B%0A%20%20this.readerSettings%20%3D%20van.state(readerSettings)%3B%0A%20%20this.generalSettings%20%3D%20van.state(chapterGeneralSettings)%3B%0A%0A%20%20this.chapterElement%20%3D%20document.querySelector('%23LNReader-chapter')%3B%0A%20%20this.selection%20%3D%20window.getSelection()%3B%0A%20%20this.viewport%20%3D%20document.querySelector('meta%5Bname%3Dviewport%5D')%3B%0A%0A%20%20this.novel%20%3D%20novel%3B%0A%20%20this.chapter%20%3D%20chapter%3B%0A%20%20this.nextChapter%20%3D%20nextChapter%3B%0A%20%20this.strings%20%3D%20strings%3B%0A%20%20this.autoSaveInterval%20%3D%20autoSaveInterval%3B%0A%20%20this.rawHTML%20%3D%20this.chapterElement.innerHTML%3B%0A%0A%20%20%2F%2Flayout%20props%0A%20%20this.paddingTop%20%3D%20parseInt(%0A%20%20%20%20getComputedStyle(document.querySelector('body')).getPropertyValue(%0A%20%20%20%20%20%20'padding-top'%2C%0A%20%20%20%20)%2C%0A%20%20%20%2010%2C%0A%20%20)%3B%0A%20%20this.chapterHeight%20%3D%20this.chapterElement.scrollHeight%20%2B%20this.paddingTop%3B%0A%20%20this.layoutHeight%20%3D%20window.screen.height%3B%0A%20%20this.layoutWidth%20%3D%20window.screen.width%3B%0A%0A%20%20this.post%20%3D%20obj%20%3D%3E%20window.ReactNativeWebView.postMessage(JSON.stringify(obj))%3B%0A%20%20this.refresh%20%3D%20()%20%3D%3E%20%7B%0A%20%20%20%20if%20(this.generalSettings.val.pageReader)%20%7B%0A%20%20%20%20%20%20this.chapterWidth%20%3D%20this.chapterElement.scrollWidth%3B%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20this.chapterHeight%20%3D%20this.chapterElement.scrollHeight%20%2B%20this.paddingTop%3B%0A%20%20%20%20%7D%0A%20%20%7D%3B%0A%0A%20%20van.derive(()%20%3D%3E%20%7B%0A%20%20%20%20const%20settings%20%3D%20this.readerSettings.val%3B%0A%20%20%20%20document.documentElement.style.setProperty(%0A%20%20%20%20%20%20'--readerSettings-theme'%2C%0A%20%20%20%20%20%20settings.theme%2C%0A%20%20%20%20)%3B%0A%20%20%20%20document.documentElement.style.setProperty(%0A%20%20%20%20%20%20'--readerSettings-padding'%2C%0A%20%20%20%20%20%20settings.padding%20%2B%20'px'%2C%0A%20%20%20%20)%3B%0A%20%20%20%20document.documentElement.style.setProperty(%0A%20%20%20%20%20%20'--readerSettings-textSize'%2C%0A%20%20%20%20%20%20settings.textSize%20%2B%20'px'%2C%0A%20%20%20%20)%3B%0A%20%20%20%20document.documentElement.style.setProperty(%0A%20%20%20%20%20%20'--readerSettings-textColor'%2C%0A%20%20%20%20%20%20settings.textColor%2C%0A%20%20%20%20)%3B%0A%20%20%20%20document.documentElement.style.setProperty(%0A%20%20%20%20%20%20'--readerSettings-textAlign'%2C%0A%20%20%20%20%20%20settings.textAlign%2C%0A%20%20%20%20)%3B%0A%20%20%20%20document.documentElement.style.setProperty(%0A%20%20%20%20%20%20'--readerSettings-lineHeight'%2C%0A%20%20%20%20%20%20settings.lineHeight%2C%0A%20%20%20%20)%3B%0A%20%20%20%20document.documentElement.style.setProperty(%0A%20%20%20%20%20%20'--readerSettings-fontFamily'%2C%0A%20%20%20%20%20%20settings.fontFamily%2C%0A%20%20%20%20)%3B%0A%20%20%20%20if%20(settings.fontFamily)%20%7B%0A%20%20%20%20%20%20new%20FontFace(%0A%20%20%20%20%20%20%20%20settings.fontFamily%2C%0A%20%20%20%20%20%20%20%20'url(%22file%3A%2F%2F%2Fandroid_asset%2Ffonts%2F'%20%2B%20settings.fontFamily%20%2B%20'.ttf%22)'%2C%0A%20%20%20%20%20%20)%0A%20%20%20%20%20%20%20%20.load()%0A%20%20%20%20%20%20%20%20.then(function%20(loadedFont)%20%7B%0A%20%20%20%20%20%20%20%20%20%20document.fonts.add(loadedFont)%3B%0A%20%20%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%2F%2F%20have%20no%20affect%20with%20a%20font%20declared%20in%20head%0A%20%20%20%20%20%20document.fonts.forEach(fontFace%20%3D%3E%20document.fonts.delete(fontFace))%3B%0A%20%20%20%20%7D%0A%20%20%7D)%3B%0A%0A%20%20setInterval(()%20%3D%3E%20%7B%0A%20%20%20%20if%20(!this.generalSettings.val.pageReader)%20%7B%0A%20%20%20%20%20%20this.post(%7B%0A%20%20%20%20%20%20%20%20type%3A%20'save'%2C%0A%20%20%20%20%20%20%20%20data%3A%20parseInt(%0A%20%20%20%20%20%20%20%20%20%20((window.scrollY%20%2B%20this.layoutHeight)%20%2F%20this.chapterHeight)%20*%20100%2C%0A%20%20%20%20%20%20%20%20%20%2010%2C%0A%20%20%20%20%20%20%20%20)%2C%0A%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20this.post(%7B%0A%20%20%20%20%20%20%20%20type%3A%20'save'%2C%0A%20%20%20%20%20%20%20%20data%3A%20parseInt(%0A%20%20%20%20%20%20%20%20%20%20((pageReader.page.val%20%2B%201)%20%2F%20pageReader.totalPages.val)%20*%20100%2C%0A%20%20%20%20%20%20%20%20)%2C%0A%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%7D%0A%20%20%7D%2C%20this.autoSaveInterval)%3B%0A%0A%20%20if%20(DEBUG)%20%7B%0A%20%20%20%20console%20%3D%20new%20Object()%3B%0A%20%20%20%20console.log%20%3D%20function%20(...data)%20%7B%0A%20%20%20%20%20%20reader.post(%7B%20'type'%3A%20'console'%2C%20'msg'%3A%20data%3F.join('%20')%20%7D)%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20console.debug%20%3D%20console.log%3B%0A%20%20%20%20console.info%20%3D%20console.log%3B%0A%20%20%20%20console.warn%20%3D%20console.log%3B%0A%20%20%20%20console.error%20%3D%20console.log%3B%0A%20%20%7D%0A%20%20%2F%2F%20end%20reader%0A%7D)()%3B%0A%0Awindow.tts%20%3D%20new%20(function%20()%20%7B%0A%20%20this.readableNodeNames%20%3D%20%5B%0A%20%20%20%20'%23text'%2C%0A%20%20%20%20'B'%2C%0A%20%20%20%20'I'%2C%0A%20%20%20%20'SPAN'%2C%0A%20%20%20%20'EM'%2C%0A%20%20%20%20'BR'%2C%0A%20%20%20%20'STRONG'%2C%0A%20%20%20%20'A'%2C%0A%20%20%5D%3B%0A%20%20this.prevElement%20%3D%20null%3B%0A%20%20this.currentElement%20%3D%20reader.chapterElement%3B%0A%20%20this.started%20%3D%20false%3B%0A%20%20this.reading%20%3D%20false%3B%0A%0A%20%20this.readable%20%3D%20element%20%3D%3E%20%7B%0A%20%20%20%20ele%20%3D%20element%20%3F%3F%20this.currentElement%3B%0A%20%20%20%20if%20(%0A%20%20%20%20%20%20ele.nodeName%20!%3D%3D%20'SPAN'%20%26%26%0A%20%20%20%20%20%20this.readableNodeNames.includes(ele.nodeName)%0A%20%20%20%20)%20%7B%0A%20%20%20%20%20%20return%20false%3B%0A%20%20%20%20%7D%0A%20%20%20%20if%20(!ele.hasChildNodes())%20%7B%0A%20%20%20%20%20%20return%20false%3B%0A%20%20%20%20%7D%0A%20%20%20%20for%20(let%20i%20%3D%200%3B%20i%20%3C%20ele.childNodes.length%3B%20i%2B%2B)%20%7B%0A%20%20%20%20%20%20if%20(!this.readableNodeNames.includes(ele.childNodes.item(i).nodeName))%20%7B%0A%20%20%20%20%20%20%20%20return%20false%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%20%20return%20true%3B%0A%20%20%7D%3B%0A%0A%20%20%2F%2F%20if%20can%20find%20a%20readable%20node%2C%20else%20stop%20tts%0A%20%20this.findNextTextNode%20%3D%20()%20%3D%3E%20%7B%0A%20%20%20%20if%20(this.currentElement.isSameNode(reader.chapterElement)%20%26%26%20this.started)%20%7B%0A%20%20%20%20%20%20return%20false%3B%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20this.started%20%3D%20true%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F%2F%20is%20read%2C%20have%20to%20go%20next%20or%20go%20back%0A%20%20%20%20if%20(this.currentElement.isSameNode(this.prevElement))%20%7B%0A%20%20%20%20%20%20this.prevElement%20%3D%20this.currentElement%3B%0A%20%20%20%20%20%20if%20(this.currentElement.nextElementSibling)%20%7B%0A%20%20%20%20%20%20%20%20this.currentElement%20%3D%20this.currentElement.nextElementSibling%3B%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20this.currentElement%20%3D%20this.currentElement.parentElement%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20return%20this.findNextTextNode()%3B%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%2F%2F%20can%20read%3F%20read%20it%0A%20%20%20%20%20%20if%20(this.readable())%20%7B%0A%20%20%20%20%20%20%20%20return%20true%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20if%20(%0A%20%20%20%20%20%20%20%20!this.prevElement%3F.parentElement%3F.isSameNode(this.currentElement)%20%26%26%0A%20%20%20%20%20%20%20%20this.currentElement.firstElementChild%0A%20%20%20%20%20%20)%20%7B%0A%20%20%20%20%20%20%20%20%2F%2F%20go%20deep%0A%20%20%20%20%20%20%20%20this.prevElement%20%3D%20this.currentElement%3B%0A%20%20%20%20%20%20%20%20this.currentElement%20%3D%20this.currentElement.firstElementChild%3B%0A%20%20%20%20%20%20%7D%20else%20if%20(this.currentElement.nextElementSibling)%20%7B%0A%20%20%20%20%20%20%20%20this.prevElement%20%3D%20this.currentElement%3B%0A%20%20%20%20%20%20%20%20this.currentElement%20%3D%20this.currentElement.nextElementSibling%3B%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20this.prevElement%20%3D%20this.currentElement%3B%0A%20%20%20%20%20%20%20%20this.currentElement%20%3D%20this.currentElement.parentElement%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20return%20this.findNextTextNode()%3B%0A%20%20%20%20%7D%0A%20%20%7D%3B%0A%0A%20%20this.next%20%3D%20()%20%3D%3E%20%7B%0A%20%20%20%20try%20%7B%0A%20%20%20%20%20%20this.currentElement%3F.classList%3F.remove('highlight')%3B%0A%20%20%20%20%20%20if%20(this.findNextTextNode())%20%7B%0A%20%20%20%20%20%20%20%20this.reading%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20this.speak()%3B%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20this.reading%20%3D%20false%3B%0A%20%20%20%20%20%20%20%20this.stop()%3B%0A%20%20%20%20%20%20%20%20document.getElementById('TTS-Controller').firstElementChild.innerHTML%20%3D%0A%20%20%20%20%20%20%20%20%20%20volumnIcon%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%20catch%20(e)%20%7B%0A%20%20%20%20%20%20alert(e)%3B%0A%20%20%20%20%7D%0A%20%20%7D%3B%0A%0A%20%20this.start%20%3D%20element%20%3D%3E%20%7B%0A%20%20%20%20this.stop()%3B%0A%20%20%20%20this.currentElement%20%3D%20element%20%3F%3F%20reader.chapterElement%3B%0A%20%20%20%20this.next()%3B%0A%20%20%7D%3B%0A%0A%20%20this.resume%20%3D%20()%20%3D%3E%20%7B%0A%20%20%20%20if%20(!this.reading)%20%7B%0A%20%20%20%20%20%20if%20(%0A%20%20%20%20%20%20%20%20this.currentElement%20%26%26%0A%20%20%20%20%20%20%20%20this.currentElement.id%20!%3D%3D%20'LNReader-chapter'%0A%20%20%20%20%20%20)%20%7B%0A%20%20%20%20%20%20%20%20this.speak()%3B%0A%20%20%20%20%20%20%20%20this.reading%20%3D%20true%3B%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20this.next()%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%7D%3B%0A%0A%20%20this.pause%20%3D%20()%20%3D%3E%20%7B%0A%20%20%20%20this.reading%20%3D%20false%3B%0A%20%20%20%20reader.post(%7B%20type%3A%20'stop-speak'%20%7D)%3B%0A%20%20%7D%3B%0A%0A%20%20this.stop%20%3D%20()%20%3D%3E%20%7B%0A%20%20%20%20reader.post(%7B%20type%3A%20'stop-speak'%20%7D)%3B%0A%20%20%20%20this.currentElement%3F.classList%3F.remove('highlight')%3B%0A%20%20%20%20this.prevElement%20%3D%20null%3B%0A%20%20%20%20this.currentElement%20%3D%20reader.chapterElement%3B%0A%20%20%20%20this.started%20%3D%20false%3B%0A%20%20%20%20this.reading%20%3D%20false%3B%0A%20%20%7D%3B%0A%0A%20%20this.speak%20%3D%20()%20%3D%3E%20%7B%0A%20%20%20%20this.prevElement%20%3D%20this.currentElement%3B%0A%20%20%20%20this.currentElement.classList.add('highlight')%3B%0A%20%20%20%20reader.post(%7B%20type%3A%20'speak'%2C%20data%3A%20this.currentElement%3F.innerText%20%7D)%3B%0A%20%20%7D%3B%0A%7D)()%3B%0A%0Awindow.pageReader%20%3D%20new%20(function%20()%20%7B%0A%20%20this.page%20%3D%20van.state(0)%3B%0A%20%20this.totalPages%20%3D%20van.state(0)%3B%0A%0A%20%20this.movePage%20%3D%20destPage%20%3D%3E%20%7B%0A%20%20%20%20destPage%20%3D%20parseInt(destPage)%3B%0A%20%20%20%20if%20(destPage%20%3C%200)%20%7B%0A%20%20%20%20%20%20return%20reader.post(%7B%20type%3A%20'prev'%20%7D)%3B%0A%20%20%20%20%7D%0A%20%20%20%20if%20(destPage%20%3E%3D%20this.totalPages.val)%20%7B%0A%20%20%20%20%20%20return%20reader.post(%7B%20type%3A%20'next'%20%7D)%3B%0A%20%20%20%20%7D%0A%20%20%20%20this.page.val%20%3D%20destPage%3B%0A%20%20%20%20reader.chapterElement.style.transform%20%3D%0A%20%20%20%20%20%20'translateX(-'%20%2B%20destPage%20*%20100%20%2B%20'%25)'%3B%0A%20%20%7D%3B%0A%0A%20%20van.derive(()%20%3D%3E%20%7B%0A%20%20%20%20%2F%2F%20ignore%20if%20initial%20or%20other%20states%20change%0A%20%20%20%20if%20(%0A%20%20%20%20%20%20reader.generalSettings.val.pageReader%20%3D%3D%3D%0A%20%20%20%20%20%20reader.generalSettings.oldVal.pageReader%0A%20%20%20%20)%20%7B%0A%20%20%20%20%20%20return%3B%0A%20%20%20%20%7D%0A%20%20%20%20if%20(reader.generalSettings.val.pageReader)%20%7B%0A%20%20%20%20%20%20const%20ratio%20%3D%20Math.min(%0A%20%20%20%20%20%20%20%200.99%2C%0A%20%20%20%20%20%20%20%20(window.scrollY%20%2B%20reader.layoutHeight)%20%2F%20reader.chapterHeight%2C%0A%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20document.body.classList.add('page-reader')%3B%0A%20%20%20%20%20%20setTimeout(()%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20reader.refresh()%3B%0A%20%20%20%20%20%20%20%20this.totalPages.val%20%3D%20parseInt(%0A%20%20%20%20%20%20%20%20%20%20(reader.chapterWidth%20%2B%20reader.readerSettings.val.padding%20*%202)%20%2F%0A%20%20%20%20%20%20%20%20%20%20%20%20reader.layoutWidth%2C%0A%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20this.movePage(this.totalPages.val%20*%20ratio)%3B%0A%20%20%20%20%20%20%7D%2C%20100)%3B%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20reader.chapterElement.style%20%3D%20''%3B%0A%20%20%20%20%20%20document.body.classList.remove('page-reader')%3B%0A%20%20%20%20%20%20setTimeout(()%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20reader.refresh()%3B%0A%20%20%20%20%20%20%20%20window.scrollTo(%7B%0A%20%20%20%20%20%20%20%20%20%20top%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20(reader.chapterHeight%20*%20(this.page.val%20%2B%201))%20%2F%20this.totalPages.val%20-%0A%20%20%20%20%20%20%20%20%20%20%20%20reader.layoutHeight%2C%0A%20%20%20%20%20%20%20%20%20%20behavior%3A%20'smooth'%2C%0A%20%20%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%20%20%7D%2C%20100)%3B%0A%20%20%20%20%7D%0A%20%20%7D)%3B%0A%7D)()%3B%0A%0Awindow.addEventListener('DOMContentLoaded'%2C%20async%20()%20%3D%3E%20%7B%0A%20%20%2F%2F%20wait%20for%20content%20is%20rendered%0A%20%20setTimeout(()%20%3D%3E%20%7B%0A%20%20%20%20reader.refresh()%3B%0A%20%20%20%20if%20(reader.generalSettings.val.pageReader)%20%7B%0A%20%20%20%20%20%20pageReader.totalPages.val%20%3D%20parseInt(%0A%20%20%20%20%20%20%20%20(reader.chapterWidth%20%2B%20reader.readerSettings.val.padding%20*%202)%20%2F%0A%20%20%20%20%20%20%20%20%20%20reader.layoutWidth%2C%0A%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20pageReader.movePage(%0A%20%20%20%20%20%20%20%20parseInt(%0A%20%20%20%20%20%20%20%20%20%20pageReader.totalPages.val%20*%0A%20%20%20%20%20%20%20%20%20%20%20%20Math.min(0.99%2C%20reader.chapter.progress%20%2F%20100)%2C%0A%20%20%20%20%20%20%20%20)%2C%0A%20%20%20%20%20%20)%3B%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20window.scrollTo(%7B%0A%20%20%20%20%20%20%20%20top%3A%0A%20%20%20%20%20%20%20%20%20%20(reader.chapterHeight%20*%20reader.chapter.progress)%20%2F%20100%20-%0A%20%20%20%20%20%20%20%20%20%20reader.layoutHeight%2C%0A%20%20%20%20%20%20%20%20behavior%3A%20'smooth'%2C%0A%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%7D%0A%20%20%7D%2C%20100)%3B%0A%7D)%3B%0A%0A%2F%2F%20click%20handler%0A(function%20()%20%7B%0A%20%20const%20detectTapPosition%20%3D%20(x%2C%20y%2C%20horizontal)%20%3D%3E%20%7B%0A%20%20%20%20if%20(horizontal)%20%7B%0A%20%20%20%20%20%20if%20(x%20%3C%200.33)%20%7B%0A%20%20%20%20%20%20%20%20return%20'left'%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20if%20(x%20%3E%200.66)%20%7B%0A%20%20%20%20%20%20%20%20return%20'right'%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20if%20(y%20%3C%200.33)%20%7B%0A%20%20%20%20%20%20%20%20return%20'top'%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20if%20(y%20%3E%200.66)%20%7B%0A%20%20%20%20%20%20%20%20return%20'bottom'%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%20%20return%20'center'%3B%0A%20%20%7D%3B%0A%20%20document.onclick%20%3D%20e%20%3D%3E%20%7B%0A%20%20%20%20const%20%7B%20clientX%2C%20clientY%20%7D%20%3D%20e%3B%0A%20%20%20%20const%20%7B%20x%2C%20y%20%7D%20%3D%20%7B%0A%20%20%20%20%20%20x%3A%20clientX%20%2F%20reader.layoutWidth%2C%0A%20%20%20%20%20%20y%3A%20clientY%20%2F%20reader.layoutHeight%2C%0A%20%20%20%20%7D%3B%0A%20%20%20%20if%20(reader.generalSettings.val.pageReader)%20%7B%0A%20%20%20%20%20%20const%20position%20%3D%20detectTapPosition(x%2C%20y%2C%20true)%3B%0A%20%20%20%20%20%20if%20(position%20%3D%3D%3D%20'left')%20%7B%0A%20%20%20%20%20%20%20%20pageReader.movePage(pageReader.page.val%20-%201)%3B%0A%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20if%20(position%20%3D%3D%3D%20'right')%20%7B%0A%20%20%20%20%20%20%20%20pageReader.movePage(pageReader.page.val%20%2B%201)%3B%0A%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20if%20(reader.generalSettings.val.tapToScroll)%20%7B%0A%20%20%20%20%20%20%20%20const%20position%20%3D%20detectTapPosition(x%2C%20y%2C%20false)%3B%0A%20%20%20%20%20%20%20%20if%20(position%20%3D%3D%3D%20'top')%20%7B%0A%20%20%20%20%20%20%20%20%20%20window.scrollBy(%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20top%3A%20-reader.layoutHeight%20*%200.75%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20behavior%3A%20'smooth'%2C%0A%20%20%20%20%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20if%20(position%20%3D%3D%3D%20'bottom')%20%7B%0A%20%20%20%20%20%20%20%20%20%20window.scrollBy(%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20top%3A%20reader.layoutHeight%20*%200.75%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20behavior%3A%20'smooth'%2C%0A%20%20%20%20%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%20%20reader.post(%7B%20type%3A%20'hide'%20%7D)%3B%0A%20%20%7D%3B%0A%7D)()%3B%0A%0A%2F%2F%20swipe%20handler%0A(function%20()%20%7B%0A%20%20this.initialX%20%3D%20null%3B%0A%20%20this.initialY%20%3D%20null%3B%0A%0A%20%20reader.chapterElement.addEventListener('touchstart'%2C%20e%20%3D%3E%20%7B%0A%20%20%20%20this.initialX%20%3D%20e.changedTouches%5B0%5D.screenX%3B%0A%20%20%20%20this.initialY%20%3D%20e.changedTouches%5B0%5D.screenY%3B%0A%20%20%7D)%3B%0A%0A%20%20reader.chapterElement.addEventListener('touchmove'%2C%20e%20%3D%3E%20%7B%0A%20%20%20%20if%20(reader.generalSettings.val.pageReader)%20%7B%0A%20%20%20%20%20%20const%20diffX%20%3D%0A%20%20%20%20%20%20%20%20(e.changedTouches%5B0%5D.screenX%20-%20this.initialX)%20%2F%20reader.layoutWidth%3B%0A%20%20%20%20%20%20reader.chapterElement.style.transition%20%3D%20'unset'%3B%0A%20%20%20%20%20%20reader.chapterElement.style.transform%20%3D%0A%20%20%20%20%20%20%20%20'translateX(-'%20%2B%20(pageReader.page.val%20-%20diffX)%20*%20100%20%2B%20'%25)'%3B%0A%20%20%20%20%7D%0A%20%20%7D)%3B%0A%0A%20%20reader.chapterElement.addEventListener('touchend'%2C%20e%20%3D%3E%20%7B%0A%20%20%20%20const%20diffX%20%3D%20e.changedTouches%5B0%5D.screenX%20-%20this.initialX%3B%0A%20%20%20%20const%20diffY%20%3D%20e.changedTouches%5B0%5D.screenY%20-%20this.initialY%3B%0A%20%20%20%20if%20(reader.generalSettings.val.pageReader)%20%7B%0A%20%20%20%20%20%20reader.chapterElement.style.transition%20%3D%20'200ms'%3B%0A%20%20%20%20%20%20const%20diffXPercentage%20%3D%20diffX%20%2F%20reader.layoutWidth%3B%0A%20%20%20%20%20%20if%20(diffXPercentage%20%3C%20-0.3)%20%7B%0A%20%20%20%20%20%20%20%20pageReader.movePage(pageReader.page.val%20%2B%201)%3B%0A%20%20%20%20%20%20%7D%20else%20if%20(diffXPercentage%20%3E%200.3)%20%7B%0A%20%20%20%20%20%20%20%20pageReader.movePage(pageReader.page.val%20-%201)%3B%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20pageReader.movePage(pageReader.page.val)%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20return%3B%0A%20%20%20%20%7D%0A%20%20%20%20if%20(%0A%20%20%20%20%20%20e.target.id%3F.startsWith('scrollbar')%20%7C%7C%0A%20%20%20%20%20%20e.target.id%20%3D%3D%3D%20'Image-Modal-img'%0A%20%20%20%20)%20%7B%0A%20%20%20%20%20%20return%3B%0A%20%20%20%20%7D%0A%20%20%20%20if%20(%0A%20%20%20%20%20%20reader.generalSettings.val.swipeGestures%20%26%26%0A%20%20%20%20%20%20Math.abs(diffX)%20%3E%20Math.abs(diffY)%20*%202%20%26%26%0A%20%20%20%20%20%20Math.abs(diffX)%20%3E%20180%0A%20%20%20%20)%20%7B%0A%20%20%20%20%20%20if%20(diffX%20%3C%200%20%26%26%20this.initialX%20%3E%3D%20window.innerWidth%20%2F%202)%20%7B%0A%20%20%20%20%20%20%20%20e.preventDefault()%3B%0A%20%20%20%20%20%20%20%20reader.post(%7B%20type%3A%20'next'%20%7D)%3B%0A%20%20%20%20%20%20%7D%20else%20if%20(diffX%20%3E%200%20%26%26%20this.initialX%20%3C%3D%20window.innerWidth%20%2F%202)%20%7B%0A%20%20%20%20%20%20%20%20e.preventDefault()%3B%0A%20%20%20%20%20%20%20%20reader.post(%7B%20type%3A%20'prev'%20%7D)%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%7D)%3B%0A%7D)()%3B%0A%0A%2F%2F%20text%20options%0A(function%20()%20%7B%0A%20%20van.derive(()%20%3D%3E%20%7B%0A%20%20%20%20let%20html%20%3D%20reader.rawHTML%3B%0A%20%20%20%20if%20(reader.generalSettings.val.bionicReading)%20%7B%0A%20%20%20%20%20%20html%20%3D%20textVide.textVide(reader.rawHTML)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20if%20(reader.generalSettings.val.removeExtraParagraphSpacing)%20%7B%0A%20%20%20%20%20%20html%20%3D%20html.replace(%2F%3C%5Cs*br%5B%5E%3E%5D*%3E%2Fgi%2C%20'%5Cn').replace(%2F%5Cn%7B2%2C%7D%2Fg%2C%20'%5Cn%5Cn')%3B%0A%20%20%20%20%7D%0A%20%20%20%20reader.chapterElement.innerHTML%20%3D%20html%3B%0A%20%20%7D)%3B%0A%7D)()%3B%0A"
export const index_js = "const%20%7B%20div%2C%20p%2C%20img%2C%20button%20%7D%20%3D%20van.tags%3B%0A%0Aconst%20ChapterEnding%20%3D%20()%20%3D%3E%20%7B%0A%20%20return%20()%20%3D%3E%0A%20%20%20%20reader.generalSettings.val.pageReader%0A%20%20%20%20%20%20%3F%20div()%0A%20%20%20%20%20%20%3A%20div(div(%7B%20class%3A%20'info-text'%20%7D%2C%20reader.strings.finished)%2C%20()%20%3D%3E%0A%20%20%20%20%20%20%20%20%20%20reader.nextChapter%0A%20%20%20%20%20%20%20%20%20%20%20%20%3F%20button(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20class%3A%20'next-button'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20onclick%3A%20()%20%3D%3E%20reader.post(%7B%20type%3A%20'next'%20%7D)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20reader.strings.nextChapter%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%0A%20%20%20%20%20%20%20%20%20%20%20%20%3A%20div(%7B%20class%3A%20'info-text'%20%7D%2C%20reader.strings.noNextChapter)%2C%0A%20%20%20%20%20%20%20%20)%3B%0A%7D%3B%0A%0Aconst%20Scrollbar%20%3D%20()%20%3D%3E%20%7B%0A%20%20const%20horizontal%20%3D%20van.derive(%0A%20%20%20%20()%20%3D%3E%20!reader.generalSettings.val.verticalSeekbar%2C%0A%20%20)%3B%0A%20%20let%20lock%20%3D%20false%3B%0A%20%20const%20percentage%20%3D%20van.state(0)%3B%0A%20%20const%20update%20%3D%20ratio%20%3D%3E%20%7B%0A%20%20%20%20if%20(ratio%20%3D%3D%3D%20undefined)%20%7B%0A%20%20%20%20%20%20ratio%20%3D%20(window.scrollY%20%2B%20reader.layoutHeight)%20%2F%20reader.chapterHeight%3B%0A%20%20%20%20%7D%0A%20%20%20%20if%20(ratio%20%3E%201)%20%7B%0A%20%20%20%20%20%20ratio%20%3D%201%3B%0A%20%20%20%20%7D%0A%20%20%20%20if%20(reader.generalSettings.val.pageReader)%20%7B%0A%20%20%20%20%20%20pageReader.movePage(%0A%20%20%20%20%20%20%20%20parseInt(pageReader.totalPages.val%20*%20Math.min(0.99%2C%20ratio))%2C%0A%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20return%3B%0A%20%20%20%20%7D%0A%20%20%20%20percentage.val%20%3D%20parseInt(ratio%20*%20100)%3B%0A%20%20%20%20if%20(lock)%20%7B%0A%20%20%20%20%20%20window.scrollTo(%7B%0A%20%20%20%20%20%20%20%20top%3A%20reader.chapterHeight%20*%20ratio%20-%20reader.layoutHeight%2C%0A%20%20%20%20%20%20%20%20behavior%3A%20'instant'%2C%0A%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%7D%0A%20%20%7D%3B%0A%20%20window.addEventListener(%0A%20%20%20%20'scroll'%2C%0A%20%20%20%20()%20%3D%3E%20!lock%20%26%26%20!reader.generalSettings.val.pageReader%20%26%26%20update()%2C%0A%20%20)%3B%0A%20%20return%20div(%0A%20%20%20%20%7B%20id%3A%20'ScrollBar'%20%7D%2C%0A%20%20%20%20div(%0A%20%20%20%20%20%20%7B%20class%3A%20'scrollbar-item%20scrollbar-text'%2C%20id%3A%20'scrollbar-percentage'%20%7D%2C%0A%20%20%20%20%20%20()%20%3D%3E%0A%20%20%20%20%20%20%20%20reader.generalSettings.val.pageReader%0A%20%20%20%20%20%20%20%20%20%20%3F%20pageReader.page.val%20%2B%201%0A%20%20%20%20%20%20%20%20%20%20%3A%20percentage.val%2C%0A%20%20%20%20)%2C%0A%20%20%20%20div(%0A%20%20%20%20%20%20%7B%20class%3A%20'scrollbar-item'%2C%20id%3A%20'scrollbar-slider'%20%7D%2C%0A%20%20%20%20%20%20div(%0A%20%20%20%20%20%20%20%20%7B%20id%3A%20'scrollbar-track'%20%7D%2C%0A%20%20%20%20%20%20%20%20div(%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20id%3A%20'scrollbar-progress'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20style%3A%20()%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20percentageValue%20%3D%20reader.generalSettings.val.pageReader%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3F%20((pageReader.page.val%20%2B%201)%20%2F%20pageReader.totalPages.val)%20*%20100%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3A%20percentage.val%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20horizontal.val%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3F%20%60width%3A%20%24%7BpercentageValue%7D%25%3B%20height%3A%20100%25%3B%60%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3A%20%60height%3A%20%24%7BpercentageValue%7D%25%3B%20width%3A%20100%25%3B%60%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20div(%0A%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20id%3A%20'scrollbar-thumb-wrapper'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ontouchstart%3A%20()%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20lock%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ontouchend%3A%20()%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20lock%20%3D%20false%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ontouchmove%3A%20function%20(e)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20slider%20%3D%20this.parentElement.parentElement.parentElement%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20sliderHeight%20%3D%20horizontal.val%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3F%20slider.clientWidth%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3A%20slider.clientHeight%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20sliderOffsetY%20%3D%20horizontal.val%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3F%20slider.getBoundingClientRect().left%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3A%20slider.getBoundingClientRect().top%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20ratio%20%3D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20((horizontal.val%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3F%20e.changedTouches%5B0%5D.clientX%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3A%20e.changedTouches%5B0%5D.clientY)%20-%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20sliderOffsetY)%20%2F%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20sliderHeight%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20update(ratio%20%3C%200%20%3F%200%20%3A%20ratio)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20div(%7B%20id%3A%20'scrollbar-thumb'%20%7D)%2C%0A%20%20%20%20%20%20%20%20%20%20)%2C%0A%20%20%20%20%20%20%20%20)%2C%0A%20%20%20%20%20%20)%2C%0A%20%20%20%20)%2C%0A%20%20%20%20div(%0A%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20class%3A%20'scrollbar-item%20scrollbar-text'%2C%0A%20%20%20%20%20%20%20%20id%3A%20'scrollbar-percentage-max'%2C%0A%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20()%20%3D%3E%0A%20%20%20%20%20%20%20%20reader.generalSettings.val.pageReader%20%3F%20pageReader.totalPages.val%20%3A%20100%2C%0A%20%20%20%20)%2C%0A%20%20)%3B%0A%7D%3B%0A%0Aconst%20ToolWrapper%20%3D%20()%20%3D%3E%20%7B%0A%20%20const%20horizontal%20%3D%20van.derive(%0A%20%20%20%20()%20%3D%3E%20!reader.generalSettings.val.verticalSeekbar%2C%0A%20%20)%3B%0A%20%20return%20div(%0A%20%20%20%20%7B%0A%20%20%20%20%20%20id%3A%20'ToolWrapper'%2C%0A%20%20%20%20%20%20class%3A%20()%20%3D%3E%0A%20%20%20%20%20%20%20%20%60%24%7Breader.hidden.val%20%3F%20'hidden'%20%3A%20''%7D%20%24%7B%0A%20%20%20%20%20%20%20%20%20%20horizontal.val%20%3F%20'horizontal'%20%3A%20''%0A%20%20%20%20%20%20%20%20%7D%60%2C%0A%20%20%20%20%7D%2C%0A%20%20%20%20Scrollbar()%2C%0A%20%20)%3B%0A%7D%3B%0A%0Aconst%20ImageModal%20%3D%20(%7B%20src%20%7D)%20%3D%3E%20%7B%0A%20%20return%20div(%0A%20%20%20%20%7B%0A%20%20%20%20%20%20id%3A%20'Image-Modal'%2C%0A%20%20%20%20%20%20class%3A%20()%20%3D%3E%20(src.val%20%3F%20'show'%20%3A%20'')%2C%0A%20%20%20%20%20%20onclick%3A%20e%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20if%20(e.target.id%20!%3D%3D%20'Image-Modal-img')%20%7B%0A%20%20%20%20%20%20%20%20%20%20e.stopPropagation()%3B%0A%20%20%20%20%20%20%20%20%20%20src.val%20%3D%20''%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%7D%2C%0A%20%20%20%20img(%7B%0A%20%20%20%20%20%20id%3A%20'Image-Modal-img'%2C%0A%20%20%20%20%20%20src%3A%20src%2C%0A%20%20%20%20%20%20alt%3A%20()%20%3D%3E%20(src.val%20%3F%20%60Cant%20not%20render%20image%20from%20%24%7Bsrc.val%7D%60%20%3A%20'')%2C%0A%20%20%20%20%7D)%2C%0A%20%20)%3B%0A%7D%3B%0A%0Aconst%20ModalWrapper%20%3D%20()%20%3D%3E%20%7B%0A%20%20const%20imgSrc%20%3D%20van.state('')%3B%0A%20%20const%20showImage%20%3D%20src%20%3D%3E%20%7B%0A%20%20%20%20imgSrc.val%20%3D%20src%3B%0A%20%20%20%20reader.viewport.setAttribute(%0A%20%20%20%20%20%20'content'%2C%0A%20%20%20%20%20%20'width%3Ddevice-width%2C%20initial-scale%3D1.0%2C%20maximum-scale%3D10'%2C%0A%20%20%20%20)%3B%0A%20%20%7D%3B%0A%20%20const%20hideImage%20%3D%20()%20%3D%3E%20%7B%0A%20%20%20%20imgSrc.val%20%3D%20''%3B%0A%20%20%20%20reader.viewport.setAttribute(%0A%20%20%20%20%20%20'content'%2C%0A%20%20%20%20%20%20'width%3Ddevice-width%2C%20initial-scale%3D1.0%2C%20maximum-scale%3D1.0'%2C%0A%20%20%20%20)%3B%0A%20%20%7D%3B%0A%0A%20%20document.addEventListener('contextmenu'%2C%20e%20%3D%3E%20%7B%0A%20%20%20%20if%20(e.target%20instanceof%20HTMLImageElement)%20%7B%0A%20%20%20%20%20%20if%20(!imgSrc.val)%20%7B%0A%20%20%20%20%20%20%20%20showImage(e.target.src)%3B%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20hideImage()%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%7D)%3B%0A%20%20return%20div(ImageModal(%7B%20src%3A%20imgSrc%20%7D))%3B%0A%7D%3B%0A%0Aconst%20Footer%20%3D%20()%20%3D%3E%20%7B%0A%20%20const%20percentage%20%3D%20van.state(0)%3B%0A%20%20const%20time%20%3D%20van.state(%0A%20%20%20%20new%20Date().toLocaleTimeString(undefined%2C%20%7B%0A%20%20%20%20%20%20hour%3A%20'2-digit'%2C%0A%20%20%20%20%20%20minute%3A%20'2-digit'%2C%0A%20%20%20%20%20%20hour12%3A%20false%2C%0A%20%20%20%20%7D)%2C%0A%20%20)%3B%0A%20%20window.addEventListener('scroll'%2C%20()%20%3D%3E%20%7B%0A%20%20%20%20let%20ratio%20%3D%20(window.scrollY%20%2B%20reader.layoutHeight)%20%2F%20reader.chapterHeight%3B%0A%20%20%20%20if%20(ratio%20%3E%201)%20%7B%0A%20%20%20%20%20%20ratio%20%3D%201%3B%0A%20%20%20%20%7D%0A%20%20%20%20percentage.val%20%3D%20parseInt(ratio%20*%20100)%3B%0A%20%20%7D)%3B%0A%20%20setInterval(()%20%3D%3E%20%7B%0A%20%20%20%20time.val%20%3D%20new%20Date().toLocaleTimeString(undefined%2C%20%7B%0A%20%20%20%20%20%20hour%3A%20'2-digit'%2C%0A%20%20%20%20%20%20minute%3A%20'2-digit'%2C%0A%20%20%20%20%20%20hour12%3A%20false%2C%0A%20%20%20%20%7D)%3B%0A%20%20%7D%2C%2010000)%3B%0A%20%20return%20div(%0A%20%20%20%20%7B%0A%20%20%20%20%20%20id%3A%20'reader-footer-wrapper'%2C%0A%20%20%20%20%20%20class%3A%20()%20%3D%3E%0A%20%20%20%20%20%20%20%20reader.generalSettings.val.showBatteryAndTime%20%7C%7C%0A%20%20%20%20%20%20%20%20reader.generalSettings.val.showScrollPercentage%0A%20%20%20%20%20%20%20%20%20%20%3F%20''%0A%20%20%20%20%20%20%20%20%20%20%3A%20'd-none'%2C%0A%20%20%20%20%7D%2C%0A%20%20%20%20div(%0A%20%20%20%20%20%20%7B%20id%3A%20'reader-footer'%20%7D%2C%0A%0A%20%20%20%20%20%20div(%0A%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20id%3A%20'reader-battery'%2C%0A%20%20%20%20%20%20%20%20%20%20class%3A%20()%20%3D%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%60reader-footer-item%20%24%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20reader.generalSettings.val.showBatteryAndTime%20%3F%20''%20%3A%20'hidden'%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%60%2C%0A%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20()%20%3D%3E%20Math.ceil(reader.batteryLevel.val%20*%20100)%20%2B%20'%25'%2C%0A%20%20%20%20%20%20)%2C%0A%20%20%20%20%20%20div(%0A%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20id%3A%20'reader-percentage'%2C%0A%20%20%20%20%20%20%20%20%20%20class%3A%20()%20%3D%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%60reader-footer-item%20%24%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20reader.generalSettings.val.showScrollPercentage%20%3F%20''%20%3A%20'hidden'%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%60%2C%0A%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20()%20%3D%3E%0A%20%20%20%20%20%20%20%20%20%20reader.generalSettings.val.pageReader%0A%20%20%20%20%20%20%20%20%20%20%20%20%3F%20%60%24%7BpageReader.page.val%20%2B%201%7D%2F%24%7BpageReader.totalPages.val%7D%60%0A%20%20%20%20%20%20%20%20%20%20%20%20%3A%20percentage.val%20%2B%20'%25'%2C%0A%20%20%20%20%20%20)%2C%0A%20%20%20%20%20%20div(%0A%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20id%3A%20'reader-time'%2C%0A%20%20%20%20%20%20%20%20%20%20class%3A%20()%20%3D%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%60reader-footer-item%20%24%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20reader.generalSettings.val.showBatteryAndTime%20%3F%20''%20%3A%20'hidden'%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%60%2C%0A%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20time%2C%0A%20%20%20%20%20%20)%2C%0A%20%20%20%20)%2C%0A%20%20)%3B%0A%7D%3B%0A%0Aconst%20TTSController%20%3D%20()%20%3D%3E%20%7B%0A%20%20let%20controllerElement%20%3D%20null%3B%0A%20%20let%20hoverElement%20%3D%20null%3B%0A%20%20let%20clientX%20%3D%20null%3B%0A%20%20let%20clientY%20%3D%20null%3B%0A%20%20return%20div(%0A%20%20%20%20%7B%0A%20%20%20%20%20%20id%3A%20'TTS-Controller'%2C%0A%20%20%20%20%20%20class%3A%20()%20%3D%3E%20%60%24%7Breader.generalSettings.val.TTSEnable%20%3F%20''%20%3A%20'hidden'%7D%60%2C%0A%20%20%20%20%20%20ontouchstart%3A%20()%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20if%20(!controllerElement)%20%7B%0A%20%20%20%20%20%20%20%20%20%20controllerElement%20%3D%20document.getElementById('TTS-Controller')%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20controllerElement.classList.add('active')%3B%0A%20%20%20%20%20%20%20%20controllerElement.style.transition%20%3D%20''%3B%0A%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20ontouchmove%3A%20e%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20e.preventDefault()%3B%0A%20%20%20%20%20%20%20%20e.stopPropagation()%3B%0A%20%20%20%20%20%20%20%20clientX%20%3D%20e.changedTouches%5B0%5D.clientX%3B%0A%20%20%20%20%20%20%20%20clientY%20%3D%20e.changedTouches%5B0%5D.clientY%3B%0A%20%20%20%20%20%20%20%20controllerElement.style.left%20%3D%20%60%24%7BclientX%7Dpx%60%3B%0A%20%20%20%20%20%20%20%20controllerElement.style.top%20%3D%20%60%24%7BclientY%7Dpx%60%3B%0A%20%20%20%20%20%20%20%20const%20hoverElements%20%3D%20document.elementsFromPoint(clientX%2C%20clientY)%3B%0A%20%20%20%20%20%20%20%20const%20newHoverElement%20%3D%20hoverElements.reverse().find(e%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20if%20(e.id.includes('scrollbar'))%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20false%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20return%20tts.readable(e)%3B%0A%20%20%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%20%20%20%20hoverElement%3F.classList.remove('highlight')%3B%0A%20%20%20%20%20%20%20%20if%20(newHoverElement)%20%7B%0A%20%20%20%20%20%20%20%20%20%20newHoverElement.classList.add('highlight')%3B%0A%20%20%20%20%20%20%20%20%20%20hoverElement%20%3D%20newHoverElement%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20hoverElement%20%3D%20null%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20ontouchend%3A%20()%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20controllerElement.style.transition%20%3D%20'1s'%3B%0A%20%20%20%20%20%20%20%20controllerElement.classList.remove('active')%3B%0A%20%20%20%20%20%20%20%20controllerElement.style.left%20%3D%20'20px'%3B%0A%20%20%20%20%20%20%20%20if%20(clientX%20%26%26%20clientY)%20%7B%0A%20%20%20%20%20%20%20%20%20%20let%20top%20%3D%20clientY%20%3C%20120%20%3F%20120%20%3A%20clientY%3B%0A%20%20%20%20%20%20%20%20%20%20if%20(top%20%2B%20120%20%3E%20reader.layoutHeight)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20top%20%3D%20reader.layoutHeight%20-%20120%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20controllerElement.style.top%20%3D%20%60%24%7Btop%7Dpx%60%3B%0A%20%20%20%20%20%20%20%20%20%20if%20(hoverElement)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20tts.start(hoverElement)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20controllerElement.firstElementChild.innerHTML%20%3D%20pauseIcon%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20clientX%20%3D%20null%3B%0A%20%20%20%20%20%20%20%20clientY%20%3D%20null%3B%0A%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20onclick%3A%20e%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20e.stopPropagation()%3B%0A%20%20%20%20%20%20%20%20if%20(tts.reading)%20%7B%0A%20%20%20%20%20%20%20%20%20%20tts.pause()%3B%0A%20%20%20%20%20%20%20%20%20%20controllerElement.firstElementChild.innerHTML%20%3D%20resumeIcon%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20tts.resume()%3B%0A%20%20%20%20%20%20%20%20%20%20controllerElement.firstElementChild.innerHTML%20%3D%20pauseIcon%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%7D%2C%0A%20%20%20%20button(%7B%20innerHTML%3A%20volumnIcon%20%7D)%2C%0A%20%20)%3B%0A%7D%3B%0A%0Aconst%20ReaderUI%20%3D%20()%20%3D%3E%20%7B%0A%20%20return%20div(%0A%20%20%20%20ToolWrapper()%2C%0A%20%20%20%20TTSController()%2C%0A%20%20%20%20ModalWrapper()%2C%0A%20%20%20%20Footer()%2C%0A%20%20%20%20ChapterEnding()%2C%0A%20%20)%3B%0A%7D%3B%0A%0Avan.add(document.getElementById('reader-ui')%2C%20ReaderUI())%3B%0A"
